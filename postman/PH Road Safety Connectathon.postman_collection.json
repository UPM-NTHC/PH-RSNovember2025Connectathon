{
	"info": {
		"_postman_id": "6741b9f8-5bd3-4e78-a6aa-9dccd889b5ac",
		"name": "PH Road Safety Connectathon",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "44529312",
		"_collection_link": "https://errolbuenaventura.postman.co/workspace/Errol-Buenaventura's-Workspace~4b27ab57-090d-46e1-8f2f-34653e95551d/collection/44529312-6741b9f8-5bd3-4e78-a6aa-9dccd889b5ac?action=share&source=collection_link&creator=44529312"
	},
	"item": [
		{
			"name": "Expand ValueSet",
			"item": [
				{
					"name": "Get Gender VS",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{tx}}/ValueSet/$expand?url=http://hl7.org/fhir/ValueSet/administrative-gender",
							"host": [
								"{{tx}}"
							],
							"path": [
								"ValueSet",
								"$expand"
							],
							"query": [
								{
									"key": "url",
									"value": "http://hl7.org/fhir/ValueSet/administrative-gender"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Level of Consciousness VS",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{tx}}/ValueSet/$expand?url=http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-LevelofConsciousness",
							"host": [
								"{{tx}}"
							],
							"path": [
								"ValueSet",
								"$expand"
							],
							"query": [
								{
									"key": "url",
									"value": "http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-LevelofConsciousness"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Pupils VS",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{tx}}/ValueSet/$expand?url=http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-Pupils",
							"host": [
								"{{tx}}"
							],
							"path": [
								"ValueSet",
								"$expand"
							],
							"query": [
								{
									"key": "url",
									"value": "http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-Pupils"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Cyanosis VS",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{tx}}/ValueSet/$expand?url=http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-Cyanosis",
							"host": [
								"{{tx}}"
							],
							"path": [
								"ValueSet",
								"$expand"
							],
							"query": [
								{
									"key": "url",
									"value": "http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-Cyanosis"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Nature of Injury VS",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{tx}}/ValueSet/$expand?url=http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-ICD10NatureofInjury",
							"host": [
								"{{tx}}"
							],
							"path": [
								"ValueSet",
								"$expand"
							],
							"query": [
								{
									"key": "url",
									"value": "http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-ICD10NatureofInjury"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get List of Body Sites VS",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{tx}}/ValueSet/$expand?url=http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-ListofBodySites",
							"host": [
								"{{tx}}"
							],
							"path": [
								"ValueSet",
								"$expand"
							],
							"query": [
								{
									"key": "url",
									"value": "http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-ListofBodySites"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Outcome VS",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{tx}}/ValueSet/$expand?url=http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-Outcome",
							"host": [
								"{{tx}}"
							],
							"path": [
								"ValueSet",
								"$expand"
							],
							"query": [
								{
									"key": "url",
									"value": "http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-Outcome"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get General Disposition VS",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{tx}}/ValueSet/$expand?url=http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-GeneralDisposition",
							"host": [
								"{{tx}}"
							],
							"path": [
								"ValueSet",
								"$expand"
							],
							"query": [
								{
									"key": "url",
									"value": "http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-GeneralDisposition"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Fracture Type VS",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{tx}}/ValueSet/$expand?url=http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-FractureType",
							"host": [
								"{{tx}}"
							],
							"path": [
								"ValueSet",
								"$expand"
							],
							"query": [
								{
									"key": "url",
									"value": "http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-FractureType"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Patient's Vehicle VS",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{tx}}/ValueSet/$expand?url=http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-PatientsVehicle",
							"host": [
								"{{tx}}"
							],
							"path": [
								"ValueSet",
								"$expand"
							],
							"query": [
								{
									"key": "url",
									"value": "http://www.roadsafetyph.doh.gov.ph/ValueSet/SILPH-PatientsVehicle"
								}
							]
						}
					},
					"response": []
				}
			],
			"description": "This folder shows examples on how to GET value sets from the terminology server.\n\n> More valuesets and codes can be found at the Draft PH Road Safety Implementation Guide.  \nLink to the Road Safety FHIR IG: [PH RS FHIR IG - Value Sets](https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/artifacts.html#4)"
		},
		{
			"name": "Use Case 1",
			"item": [
				{
					"name": "Empty Bundle Template",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"resourceType\": \"Bundle\",\r\n  \"type\": \"transaction\",\r\n  \"entry\": []\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{fhir}}",
							"host": [
								"{{fhir}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "[0] EMS to SHR - Validate",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Visualization Script",
									"// Visualization Script",
									"const template = `",
									"<style>",
									"  body {",
									"    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;",
									"    padding: 20px;",
									"    background-color: #f5f5f5;",
									"    margin: 0;",
									"  }",
									"  .header {",
									"    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);",
									"    color: white;",
									"    padding: 20px;",
									"    border-radius: 8px 8px 0 0;",
									"    margin-bottom: 0;",
									"  }",
									"  .header h2 {",
									"    margin: 0 0 10px 0;",
									"    font-size: 24px;",
									"  }",
									"  .header p {",
									"    margin: 5px 0;",
									"    opacity: 0.9;",
									"    font-size: 14px;",
									"  }",
									"  .summary {",
									"    background: white;",
									"    padding: 15px 20px;",
									"    border-left: 4px solid #3b82f6;",
									"    margin-bottom: 20px;",
									"    box-shadow: 0 1px 3px rgba(0,0,0,0.1);",
									"  }",
									"  .summary-grid {",
									"    display: grid;",
									"    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));",
									"    gap: 15px;",
									"    margin-top: 10px;",
									"  }",
									"  .summary-item {",
									"    display: flex;",
									"    flex-direction: column;",
									"  }",
									"  .summary-label {",
									"    font-size: 12px;",
									"    color: #6b7280;",
									"    text-transform: uppercase;",
									"    letter-spacing: 0.5px;",
									"    margin-bottom: 5px;",
									"  }",
									"  .summary-value {",
									"    font-size: 20px;",
									"    font-weight: 600;",
									"    color: #1f2937;",
									"  }",
									"  .table-container {",
									"    background: white;",
									"    border-radius: 0 0 8px 8px;",
									"    box-shadow: 0 1px 3px rgba(0,0,0,0.1);",
									"    overflow: hidden;",
									"  }",
									"  table {",
									"    width: 100%;",
									"    border-collapse: collapse;",
									"  }",
									"  thead {",
									"    background: #f9fafb;",
									"    border-bottom: 2px solid #e5e7eb;",
									"  }",
									"  th {",
									"    padding: 12px 16px;",
									"    text-align: left;",
									"    font-weight: 600;",
									"    color: #374151;",
									"    font-size: 13px;",
									"    text-transform: uppercase;",
									"    letter-spacing: 0.5px;",
									"  }",
									"  td {",
									"    padding: 12px 16px;",
									"    border-bottom: 1px solid #f3f4f6;",
									"    color: #1f2937;",
									"    vertical-align: top;",
									"  }",
									"  tr:last-child td {",
									"    border-bottom: none;",
									"  }",
									"  tbody tr:hover {",
									"    background-color: #f9fafb;",
									"  }",
									"  .severity-badge {",
									"    display: inline-block;",
									"    padding: 4px 12px;",
									"    border-radius: 12px;",
									"    font-size: 12px;",
									"    font-weight: 600;",
									"    text-transform: uppercase;",
									"  }",
									"  .severity-error {",
									"    background-color: #fee2e2;",
									"    color: #991b1b;",
									"  }",
									"  .severity-warning {",
									"    background-color: #fef3c7;",
									"    color: #92400e;",
									"  }",
									"  .severity-information {",
									"    background-color: #dbeafe;",
									"    color: #1e40af;",
									"  }",
									"  .severity-fatal {",
									"    background-color: #fce7f3;",
									"    color: #831843;",
									"  }",
									"  .code-badge {",
									"    display: inline-block;",
									"    padding: 4px 8px;",
									"    border-radius: 4px;",
									"    font-size: 11px;",
									"    font-weight: 500;",
									"    background-color: #e5e7eb;",
									"    color: #374151;",
									"    font-family: 'Courier New', monospace;",
									"  }",
									"  .location-list {",
									"    margin: 0;",
									"    padding-left: 20px;",
									"    font-size: 13px;",
									"    color: #4b5563;",
									"  }",
									"  .location-list li {",
									"    margin: 4px 0;",
									"    word-break: break-all;",
									"  }",
									"  .diagnostics-text {",
									"    font-size: 13px;",
									"    line-height: 1.5;",
									"    color: #374151;",
									"    max-width: 500px;",
									"  }",
									"  .no-issues {",
									"    padding: 40px;",
									"    text-align: center;",
									"    color: #10b981;",
									"    font-size: 18px;",
									"    font-weight: 500;",
									"  }",
									"</style>",
									"",
									"<div class=\"header\">",
									"  <h2>OperationOutcome Validation Results</h2>",
									"  <p>Resource Type: {{resourceType}}</p>",
									"</div>",
									"",
									"<div class=\"summary\">",
									"  <div class=\"summary-grid\">",
									"    <div class=\"summary-item\">",
									"      <span class=\"summary-label\">Total Issues</span>",
									"      <span class=\"summary-value\">{{totalIssues}}</span>",
									"    </div>",
									"    <div class=\"summary-item\">",
									"      <span class=\"summary-label\">Errors</span>",
									"      <span class=\"summary-value\">{{errorCount}}</span>",
									"    </div>",
									"    <div class=\"summary-item\">",
									"      <span class=\"summary-label\">Warnings</span>",
									"      <span class=\"summary-value\">{{warningCount}}</span>",
									"    </div>",
									"    <div class=\"summary-item\">",
									"      <span class=\"summary-label\">Information</span>",
									"      <span class=\"summary-value\">{{infoCount}}</span>",
									"    </div>",
									"  </div>",
									"</div>",
									"",
									"{{#if hasIssues}}",
									"<div class=\"table-container\">",
									"  <table>",
									"    <thead>",
									"      <tr>",
									"        <th style=\"width: 10%;\">Severity</th>",
									"        <th style=\"width: 15%;\">Code</th>",
									"        <th style=\"width: 35%;\">Location</th>",
									"        <th style=\"width: 40%;\">Diagnostics</th>",
									"      </tr>",
									"    </thead>",
									"    <tbody>",
									"      {{#each issues}}",
									"      <tr>",
									"        <td>",
									"          <span class=\"severity-badge severity-{{severity}}\">{{severity}}</span>",
									"        </td>",
									"        <td>",
									"          <span class=\"code-badge\">{{code}}</span>",
									"        </td>",
									"        <td>",
									"          {{#if locations}}",
									"          <ul class=\"location-list\">",
									"            {{#each locations}}",
									"            <li>{{this}}</li>",
									"            {{/each}}",
									"          </ul>",
									"          {{else}}",
									"          <span style=\"color: #9ca3af; font-style: italic;\">No location specified</span>",
									"          {{/if}}",
									"        </td>",
									"        <td>",
									"          <div class=\"diagnostics-text\">{{diagnostics}}</div>",
									"        </td>",
									"      </tr>",
									"      {{/each}}",
									"    </tbody>",
									"  </table>",
									"</div>",
									"{{else}}",
									"<div class=\"table-container\">",
									"  <div class=\"no-issues\">âœ“ No issues found - validation successful!</div>",
									"</div>",
									"{{/if}}",
									"`;",
									"",
									"function createPayload() {",
									"    const response = pm.response.json();",
									"    const issues = response.issue || [];",
									"    ",
									"    // Count issues by severity",
									"    let errorCount = 0;",
									"    let warningCount = 0;",
									"    let infoCount = 0;",
									"    ",
									"    const processedIssues = issues.map(issue => {",
									"        const severity = issue.severity || 'unknown';",
									"        ",
									"        // Count by severity",
									"        if (severity === 'error' || severity === 'fatal') {",
									"            errorCount++;",
									"        } else if (severity === 'warning') {",
									"            warningCount++;",
									"        } else if (severity === 'information') {",
									"            infoCount++;",
									"        }",
									"        ",
									"        return {",
									"            severity: severity,",
									"            code: issue.code || 'N/A',",
									"            locations: issue.location || [],",
									"            diagnostics: issue.diagnostics || 'No diagnostic message provided'",
									"        };",
									"    });",
									"    ",
									"    return {",
									"        resourceType: response.resourceType || 'OperationOutcome',",
									"        totalIssues: issues.length,",
									"        errorCount: errorCount,",
									"        warningCount: warningCount,",
									"        infoCount: infoCount,",
									"        hasIssues: issues.length > 0,",
									"        issues: processedIssues",
									"    };",
									"}",
									"",
									"pm.visualizer.set(template, createPayload());"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"resourceType\": \"Bundle\",\r\n    \"type\": \"transaction\",\r\n    \"entry\": [\r\n        {\r\n            \"fullUrl\": \"urn:uuid:150bb622-81a9-40f2-85dc-aeb432cd40d4\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"RSMinimumExampleObsTimelineDateReceived\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-timeline-date-received\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://loinc.org\",\r\n                            \"code\": \"30976-5\",\r\n                            \"display\": \"Date received Form\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-11-08T14:10:00+08:00\",\r\n                \"valueDateTime\": \"2025-11-08T14:10:00+08:00\",\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Encounter\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Encounter\",\r\n                \"id\": \"RSMinimumExampleEncounter\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-encounter\"\r\n                    ]\r\n                },\r\n                \"identifier\": [\r\n                    {\r\n                        \"system\": \"http://ems.com/\",\r\n                        \"value\": \"EMS-2025-0102\"\r\n                    }\r\n                ],\r\n                \"status\": \"finished\",\r\n                \"class\": {\r\n                    \"system\": \"http://loinc.org\",\r\n                    \"code\": \"LA10268-3\",\r\n                    \"display\": \"ER\"\r\n                },\r\n                \"period\": {\r\n                    \"start\": \"2025-11-08T14:30:00+08:00\",\r\n                    \"end\": \"2025-11-08T16:45:00+08:00\"\r\n                },\r\n                \"serviceProvider\": {\r\n                    \"reference\": \"urn:uuid:e343adab-1e6b-41ae-9242-1b7874c299f6\"\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Patient\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Patient\",\r\n                \"id\": \"RSMinimumExamplePatient\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-patient\"\r\n                    ]\r\n                },\r\n                \"extension\": [\r\n                    {\r\n                        \"url\": \"urn://example.com/ph-core/fhir/StructureDefinition/indigenous-people\",\r\n                        \"valueBoolean\": false\r\n                    }\r\n                ],\r\n                \"identifier\": [\r\n                    {\r\n                        \"system\": \"http://psa.gov.ph/\",\r\n                        \"value\": \"63-584789845-5\"\r\n                    }\r\n                ],\r\n                \"active\": true,\r\n                \"name\": [\r\n                    {\r\n                        \"use\": \"official\",\r\n                        \"family\": \"Reyes\",\r\n                        \"given\": [\r\n                            \"Thomas Niccolo\",\r\n                            \"Filamor\"\r\n                        ]\r\n                    }\r\n                ],\r\n                \"telecom\": [\r\n                    {\r\n                        \"system\": \"phone\",\r\n                        \"value\": \"+63-912-345-6789\"\r\n                    }\r\n                ],\r\n                \"gender\": \"male\",\r\n                \"birthDate\": \"1990-01-01\",\r\n                \"address\": [\r\n                    {\r\n                        \"use\": \"home\",\r\n                        \"line\": [\r\n                            \"123 Sampaloc Street\"\r\n                        ],\r\n                        \"city\": \"Manila\",\r\n                        \"postalCode\": \"1008\",\r\n                        \"country\": \"PH\"\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:e343adab-1e6b-41ae-9242-1b7874c299f6\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Organization\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Organization\",\r\n                \"id\": \"RSMinimumExampleOrganization\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-organization\"\r\n                    ]\r\n                },\r\n                \"name\": \"Emergency Medical Service Ermita\",\r\n                \"telecom\": [\r\n                    {\r\n                        \"system\": \"phone\",\r\n                        \"value\": \"+63-2-911-1234\"\r\n                    }\r\n                ],\r\n                \"address\": [\r\n                    {\r\n                        \"line\": [\r\n                            \"Joaquin Gonzalez Compound\"\r\n                        ],\r\n                        \"city\": \"Manila\",\r\n                        \"state\": \"NCR\",\r\n                        \"postalCode\": \"1000\",\r\n                        \"country\": \"PH\"\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:5e9ab242-c4f9-4933-b72d-3bfbe56cf58a\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"RSMinimumExampleObsResp\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-respiratory-rate\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"86290005\",\r\n                            \"display\": \"Respiratory rate (observable entity)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-11-08T14:35:00+08:00\",\r\n                \"valueQuantity\": {\r\n                    \"value\": 18,\r\n                    \"system\": \"http://unitsofmeasure.org\",\r\n                    \"code\": \"/min\"\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:87bf2da5-3932-419c-a7df-b728be695dfd\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"RSMinimumExampleObsPulse\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-pulse-rate\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"78564009\",\r\n                            \"display\": \"Heart rate measured at systemic artery (observable entity)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-11-08T14:35:00+08:00\",\r\n                \"valueQuantity\": {\r\n                    \"value\": 88,\r\n                    \"system\": \"http://unitsofmeasure.org\",\r\n                    \"code\": \"/min\"\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:744ffa0d-f3a6-44eb-b679-ee7a3ec7de35\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"RSMinimumExampleObsBp\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-blood-pressure\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://loinc.org\",\r\n                            \"code\": \"85354-9\",\r\n                            \"display\": \"Blood pressure panel with all children optional\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-11-08T14:35:00+08:00\",\r\n                \"component\": [\r\n                    {\r\n                        \"code\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://snomed.info/sct\",\r\n                                    \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                                    \"code\": \"271649006\",\r\n                                    \"display\": \"Systolic blood pressure (observable entity)\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"valueQuantity\": {\r\n                            \"value\": 120,\r\n                            \"system\": \"http://unitsofmeasure.org\",\r\n                            \"code\": \"mm[Hg]\"\r\n                        }\r\n                    },\r\n                    {\r\n                        \"code\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://snomed.info/sct\",\r\n                                    \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                                    \"code\": \"271650006\",\r\n                                    \"display\": \"Diastolic blood pressure (observable entity)\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"valueQuantity\": {\r\n                            \"value\": 80,\r\n                            \"system\": \"http://unitsofmeasure.org\",\r\n                            \"code\": \"mm[Hg]\"\r\n                        }\r\n                    }\r\n                ],\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:fdd9395c-9d43-45d2-963f-67c3c71a0541\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"rs-example-observation-level-consciousness\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-level-of-consciousness\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"6942003\",\r\n                            \"display\": \"Level of consciousness (observable entity)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-10-31T16:48:00+08:00\",\r\n                \"valueCodeableConcept\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"248234008\",\r\n                            \"display\": \"Alert\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:76d35092-1e69-4ba9-8f62-f0b8c59c9687\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"RSMinimumExampleObsTemp\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-body-temperature\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"386725007\",\r\n                            \"display\": \"Body temperature (observable entity)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-11-08T14:35:00+08:00\",\r\n                \"valueQuantity\": {\r\n                    \"value\": 37,\r\n                    \"system\": \"http://unitsofmeasure.org\",\r\n                    \"code\": \"Cel\"\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:8d369115-ab3f-45da-9a76-450b97cc3555\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"rs-example-observation-pupils\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-pupils\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"271733001\",\r\n                            \"display\": \"Pupil reaction (observable entity)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-10-31T16:50:00+08:00\",\r\n                \"valueCodeableConcept\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"386666001\",\r\n                            \"display\": \"Pupils Equal and Reactive to Light (PEARL)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:4935a7f5-b35d-4f1a-b961-c750e32e945a\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"rs-example-observation-cyanosis\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-cyanosis\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"3415004\",\r\n                            \"display\": \"Cyanosis (finding)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-10-31T16:52:00+08:00\",\r\n                \"valueCodeableConcept\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"54622005\",\r\n                            \"display\": \"Negative\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:e268ff6b-462e-4330-8da7-f14c654858b6\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"RSMinimumExampleObsGcs\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-gcs\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"248241002\",\r\n                            \"display\": \"Glasgow coma score (observable entity)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-11-08T14:35:00+08:00\",\r\n                \"valueInteger\": 15,\r\n                \"component\": [\r\n                    {\r\n                        \"code\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://snomed.info/sct\",\r\n                                    \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                                    \"code\": \"281395000\",\r\n                                    \"display\": \"Glasgow Coma Score eye opening subscore (observable entity)\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"valueCodeableConcept\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://loinc.org\",\r\n                                    \"code\": \"LA6562-8\",\r\n                                    \"display\": \"4\"\r\n                                }\r\n                            ]\r\n                        }\r\n                    },\r\n                    {\r\n                        \"code\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://snomed.info/sct\",\r\n                                    \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                                    \"code\": \"281397008\",\r\n                                    \"display\": \"Glasgow Coma Scale verbal response subscore (observable entity)\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"valueCodeableConcept\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://loinc.org\",\r\n                                    \"code\": \"LA6560-2\",\r\n                                    \"display\": \"5\"\r\n                                }\r\n                            ]\r\n                        }\r\n                    },\r\n                    {\r\n                        \"code\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://snomed.info/sct\",\r\n                                    \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                                    \"code\": \"281396004\",\r\n                                    \"display\": \"Glasgow Coma Scale motor response subscore (observable entity)\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"valueCodeableConcept\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://loinc.org\",\r\n                                    \"code\": \"LA6558-6\",\r\n                                    \"display\": \"6\"\r\n                                }\r\n                            ]\r\n                        }\r\n                    }\r\n                ],\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:9776a4d8-b1c1-4f0e-ae65-99e642f3f2a6\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Condition\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Condition\",\r\n                \"id\": \"example\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-condition-problem\"\r\n                    ]\r\n                },\r\n                \"category\": [\r\n                    {\r\n                        \"coding\": [\r\n                            {\r\n                                \"system\": \"http://snomed.info/sct\",\r\n                                \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                                \"code\": \"55607006\",\r\n                                \"display\": \"Problem (finding)\"\r\n                            }\r\n                        ]\r\n                    }\r\n                ],\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"code\": \"127348004\",\r\n                            \"display\": \"Motor vehicle accident victim (Finding)\"\r\n                        }\r\n                    ],\r\n                    \"text\": \"Motor vehicle accident victim\"\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:10083546-e6de-43a1-af43-56eec4b66698\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Procedure\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Procedure\",\r\n                \"id\": \"rs-example-procedure\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-procedure\"\r\n                    ]\r\n                },\r\n                \"text\": {\r\n                    \"status\": \"generated\",\r\n                    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">Post-crash psychosocial counselling provided to rs-example-patient.</div>\"\r\n                },\r\n                \"status\": \"completed\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"code\": \"1255511000\",\r\n                            \"display\": \"Referral for personal emergency response system\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"performedDateTime\": \"2025-11-01T09:30:00+08:00\",\r\n                \"performer\": [\r\n                    {\r\n                        \"actor\": {\r\n                            \"reference\": \"Practitioner/rs-practitioner-teamlead\"\r\n                        }\r\n                    }\r\n                ],\r\n                \"note\": [\r\n                    {\r\n                        \"text\": \"Discussed post-crash support resources with patient and family.\"\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{tx}}/Bundle/$validate",
							"host": [
								"{{tx}}"
							],
							"path": [
								"Bundle",
								"$validate"
							]
						}
					},
					"response": []
				},
				{
					"name": "[1] EMS to SHR - Send",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Visualization Script",
									"// Visualization Script",
									"const template = `",
									"<style>",
									"  body {",
									"    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;",
									"    padding: 20px;",
									"    background-color: #f5f5f5;",
									"  }",
									"  .header {",
									"    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);",
									"    color: white;",
									"    padding: 20px;",
									"    border-radius: 8px 8px 0 0;",
									"    margin-bottom: 0;",
									"  }",
									"  .header h2 {",
									"    margin: 0 0 10px 0;",
									"    font-size: 24px;",
									"  }",
									"  .header p {",
									"    margin: 5px 0;",
									"    opacity: 0.9;",
									"    font-size: 14px;",
									"  }",
									"  .summary {",
									"    background: white;",
									"    padding: 15px 20px;",
									"    border-left: 4px solid #10b981;",
									"    margin-bottom: 20px;",
									"    box-shadow: 0 1px 3px rgba(0,0,0,0.1);",
									"  }",
									"  .summary-grid {",
									"    display: grid;",
									"    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));",
									"    gap: 15px;",
									"    margin-top: 10px;",
									"  }",
									"  .summary-item {",
									"    display: flex;",
									"    flex-direction: column;",
									"  }",
									"  .summary-label {",
									"    font-size: 12px;",
									"    color: #6b7280;",
									"    text-transform: uppercase;",
									"    letter-spacing: 0.5px;",
									"    margin-bottom: 5px;",
									"  }",
									"  .summary-value {",
									"    font-size: 20px;",
									"    font-weight: 600;",
									"    color: #1f2937;",
									"  }",
									"  table {",
									"    width: 100%;",
									"    border-collapse: collapse;",
									"    background: white;",
									"    box-shadow: 0 1px 3px rgba(0,0,0,0.1);",
									"    border-radius: 8px;",
									"    overflow: hidden;",
									"  }",
									"  thead {",
									"    background: #f9fafb;",
									"    border-bottom: 2px solid #e5e7eb;",
									"  }",
									"  th {",
									"    padding: 12px 16px;",
									"    text-align: left;",
									"    font-weight: 600;",
									"    color: #374151;",
									"    font-size: 13px;",
									"    text-transform: uppercase;",
									"    letter-spacing: 0.5px;",
									"  }",
									"  td {",
									"    padding: 12px 16px;",
									"    border-bottom: 1px solid #f3f4f6;",
									"    color: #1f2937;",
									"  }",
									"  tr:last-child td {",
									"    border-bottom: none;",
									"  }",
									"  tbody tr:hover {",
									"    background-color: #f9fafb;",
									"  }",
									"  .status-badge {",
									"    display: inline-block;",
									"    padding: 4px 12px;",
									"    border-radius: 12px;",
									"    font-size: 12px;",
									"    font-weight: 600;",
									"    background-color: #d1fae5;",
									"    color: #065f46;",
									"  }",
									"  .resource-type {",
									"    font-weight: 600;",
									"    color: #6366f1;",
									"  }",
									"  .resource-id {",
									"    font-family: 'Courier New', monospace;",
									"    background: #f3f4f6;",
									"    padding: 2px 6px;",
									"    border-radius: 4px;",
									"    font-size: 13px;",
									"  }",
									"  .timestamp {",
									"    color: #6b7280;",
									"    font-size: 13px;",
									"  }",
									"</style>",
									"",
									"<div class=\"header\">",
									"  <h2>FHIR Transaction Response</h2>",
									"  <p><strong>Bundle ID:</strong> {{bundleId}}</p>",
									"  <p><strong>Type:</strong> {{bundleType}}</p>",
									"</div>",
									"",
									"<div class=\"summary\">",
									"  <div class=\"summary-grid\">",
									"    <div class=\"summary-item\">",
									"      <span class=\"summary-label\">Total Resources</span>",
									"      <span class=\"summary-value\">{{totalResources}}</span>",
									"    </div>",
									"    <div class=\"summary-item\">",
									"      <span class=\"summary-label\">Success Rate</span>",
									"      <span class=\"summary-value\">100%</span>",
									"    </div>",
									"    <div class=\"summary-item\">",
									"      <span class=\"summary-label\">Resource Types</span>",
									"      <span class=\"summary-value\">{{resourceTypes}}</span>",
									"    </div>",
									"  </div>",
									"</div>",
									"",
									"<table>",
									"  <thead>",
									"    <tr>",
									"      <th>#</th>",
									"      <th>Resource Type</th>",
									"      <th>Resource ID</th>",
									"      <th>Status</th>",
									"      <th>Version</th>",
									"      <th>Last Modified</th>",
									"    </tr>",
									"  </thead>",
									"  <tbody>",
									"    {{#each entries}}",
									"    <tr>",
									"      <td>{{index}}</td>",
									"      <td><span class=\"resource-type\">{{resourceType}}</span></td>",
									"      <td><span class=\"resource-id\">{{resourceId}}</span></td>",
									"      <td><span class=\"status-badge\">{{status}}</span></td>",
									"      <td>{{etag}}</td>",
									"      <td><span class=\"timestamp\">{{lastModified}}</span></td>",
									"    </tr>",
									"    {{/each}}",
									"  </tbody>",
									"</table>",
									"`;",
									"",
									"function createPayload() {",
									"  const responseData = pm.response.json();",
									"  ",
									"  // Extract entries and parse location to get resource type and ID",
									"  const entries = responseData.entry.map((entry, idx) => {",
									"    const location = entry.response.location;",
									"    const locationParts = location.split('/');",
									"    const resourceType = locationParts[0];",
									"    const resourceId = locationParts[1];",
									"    ",
									"    return {",
									"      index: idx + 1,",
									"      resourceType: resourceType,",
									"      resourceId: resourceId,",
									"      status: entry.response.status,",
									"      etag: entry.response.etag,",
									"      lastModified: new Date(entry.response.lastModified).toLocaleString()",
									"    };",
									"  });",
									"  ",
									"  // Count unique resource types",
									"  const resourceTypesSet = new Set(entries.map(e => e.resourceType));",
									"  ",
									"  return {",
									"    bundleId: responseData.id,",
									"    bundleType: responseData.type,",
									"    totalResources: entries.length,",
									"    resourceTypes: resourceTypesSet.size,",
									"    entries: entries",
									"  };",
									"}",
									"",
									"pm.visualizer.set(template, createPayload());",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"resourceType\": \"Bundle\",\r\n    \"type\": \"transaction\",\r\n    \"entry\": [\r\n        {\r\n            \"fullUrl\": \"urn:uuid:150bb622-81a9-40f2-85dc-aeb432cd40d4\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"RSMinimumExampleObsTimelineDateReceived\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-timeline-date-received\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://loinc.org\",\r\n                            \"code\": \"30976-5\",\r\n                            \"display\": \"Date received Form\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-11-08T14:10:00+08:00\",\r\n                \"valueDateTime\": \"2025-11-08T14:10:00+08:00\",\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Encounter\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Encounter\",\r\n                \"id\": \"RSMinimumExampleEncounter\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-encounter\"\r\n                    ]\r\n                },\r\n                \"identifier\": [\r\n                    {\r\n                        \"system\": \"http://ems.com/\",\r\n                        \"value\": \"EMS-2025-0102\"\r\n                    }\r\n                ],\r\n                \"status\": \"finished\",\r\n                \"class\": {\r\n                    \"system\": \"http://loinc.org\",\r\n                    \"code\": \"LA10268-3\",\r\n                    \"display\": \"ER\"\r\n                },\r\n                \"period\": {\r\n                    \"start\": \"2025-11-08T14:30:00+08:00\",\r\n                    \"end\": \"2025-11-08T16:45:00+08:00\"\r\n                },\r\n                \"serviceProvider\": {\r\n                    \"reference\": \"urn:uuid:e343adab-1e6b-41ae-9242-1b7874c299f6\"\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Patient\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Patient\",\r\n                \"id\": \"RSMinimumExamplePatient\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-patient\"\r\n                    ]\r\n                },\r\n                \"extension\": [\r\n                    {\r\n                        \"url\": \"urn://example.com/ph-core/fhir/StructureDefinition/indigenous-people\",\r\n                        \"valueBoolean\": false\r\n                    }\r\n                ],\r\n                \"identifier\": [\r\n                    {\r\n                        \"system\": \"http://psa.gov.ph/\",\r\n                        \"value\": \"63-584789845-5\"\r\n                    }\r\n                ],\r\n                \"active\": true,\r\n                \"name\": [\r\n                    {\r\n                        \"use\": \"official\",\r\n                        \"family\": \"Reyes\",\r\n                        \"given\": [\r\n                            \"Thomas Niccolo\",\r\n                            \"Filamor\"\r\n                        ]\r\n                    }\r\n                ],\r\n                \"telecom\": [\r\n                    {\r\n                        \"system\": \"phone\",\r\n                        \"value\": \"+63-912-345-6789\"\r\n                    }\r\n                ],\r\n                \"gender\": \"male\",\r\n                \"birthDate\": \"1990-01-01\",\r\n                \"address\": [\r\n                    {\r\n                        \"use\": \"home\",\r\n                        \"line\": [\r\n                            \"123 Sampaloc Street\"\r\n                        ],\r\n                        \"city\": \"Manila\",\r\n                        \"postalCode\": \"1008\",\r\n                        \"country\": \"PH\"\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:e343adab-1e6b-41ae-9242-1b7874c299f6\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Organization\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Organization\",\r\n                \"id\": \"RSMinimumExampleOrganization\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-organization\"\r\n                    ]\r\n                },\r\n                \"name\": \"Emergency Medical Service Ermita\",\r\n                \"telecom\": [\r\n                    {\r\n                        \"system\": \"phone\",\r\n                        \"value\": \"+63-2-911-1234\"\r\n                    }\r\n                ],\r\n                \"address\": [\r\n                    {\r\n                        \"line\": [\r\n                            \"Joaquin Gonzalez Compound\"\r\n                        ],\r\n                        \"city\": \"Manila\",\r\n                        \"state\": \"NCR\",\r\n                        \"postalCode\": \"1000\",\r\n                        \"country\": \"PH\"\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:5e9ab242-c4f9-4933-b72d-3bfbe56cf58a\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"RSMinimumExampleObsResp\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-respiratory-rate\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"86290005\",\r\n                            \"display\": \"Respiratory rate (observable entity)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-11-08T14:35:00+08:00\",\r\n                \"valueQuantity\": {\r\n                    \"value\": 18,\r\n                    \"system\": \"http://unitsofmeasure.org\",\r\n                    \"code\": \"/min\"\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:87bf2da5-3932-419c-a7df-b728be695dfd\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"RSMinimumExampleObsPulse\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-pulse-rate\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"78564009\",\r\n                            \"display\": \"Heart rate measured at systemic artery (observable entity)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-11-08T14:35:00+08:00\",\r\n                \"valueQuantity\": {\r\n                    \"value\": 88,\r\n                    \"system\": \"http://unitsofmeasure.org\",\r\n                    \"code\": \"/min\"\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:744ffa0d-f3a6-44eb-b679-ee7a3ec7de35\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"RSMinimumExampleObsBp\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-blood-pressure\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://loinc.org\",\r\n                            \"code\": \"85354-9\",\r\n                            \"display\": \"Blood pressure panel with all children optional\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-11-08T14:35:00+08:00\",\r\n                \"component\": [\r\n                    {\r\n                        \"code\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://snomed.info/sct\",\r\n                                    \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                                    \"code\": \"271649006\",\r\n                                    \"display\": \"Systolic blood pressure (observable entity)\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"valueQuantity\": {\r\n                            \"value\": 120,\r\n                            \"system\": \"http://unitsofmeasure.org\",\r\n                            \"code\": \"mm[Hg]\"\r\n                        }\r\n                    },\r\n                    {\r\n                        \"code\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://snomed.info/sct\",\r\n                                    \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                                    \"code\": \"271650006\",\r\n                                    \"display\": \"Diastolic blood pressure (observable entity)\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"valueQuantity\": {\r\n                            \"value\": 80,\r\n                            \"system\": \"http://unitsofmeasure.org\",\r\n                            \"code\": \"mm[Hg]\"\r\n                        }\r\n                    }\r\n                ],\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:fdd9395c-9d43-45d2-963f-67c3c71a0541\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"rs-example-observation-level-consciousness\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-level-of-consciousness\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"6942003\",\r\n                            \"display\": \"Level of consciousness (observable entity)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-10-31T16:48:00+08:00\",\r\n                \"valueCodeableConcept\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"248234008\",\r\n                            \"display\": \"Alert\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:76d35092-1e69-4ba9-8f62-f0b8c59c9687\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"RSMinimumExampleObsTemp\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-body-temperature\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"386725007\",\r\n                            \"display\": \"Body temperature (observable entity)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-11-08T14:35:00+08:00\",\r\n                \"valueQuantity\": {\r\n                    \"value\": 37,\r\n                    \"system\": \"http://unitsofmeasure.org\",\r\n                    \"code\": \"Cel\"\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:8d369115-ab3f-45da-9a76-450b97cc3555\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"rs-example-observation-pupils\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-pupils\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"271733001\",\r\n                            \"display\": \"Pupil reaction (observable entity)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-10-31T16:50:00+08:00\",\r\n                \"valueCodeableConcept\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"386666001\",\r\n                            \"display\": \"Pupils Equal and Reactive to Light (PEARL)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:4935a7f5-b35d-4f1a-b961-c750e32e945a\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"rs-example-observation-cyanosis\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-cyanosis\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"3415004\",\r\n                            \"display\": \"Cyanosis (finding)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-10-31T16:52:00+08:00\",\r\n                \"valueCodeableConcept\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"54622005\",\r\n                            \"display\": \"Negative\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:e268ff6b-462e-4330-8da7-f14c654858b6\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Observation\",\r\n                \"id\": \"RSMinimumExampleObsGcs\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-gcs\"\r\n                    ]\r\n                },\r\n                \"status\": \"final\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                            \"code\": \"248241002\",\r\n                            \"display\": \"Glasgow coma score (observable entity)\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"effectiveDateTime\": \"2025-11-08T14:35:00+08:00\",\r\n                \"valueInteger\": 15,\r\n                \"component\": [\r\n                    {\r\n                        \"code\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://snomed.info/sct\",\r\n                                    \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                                    \"code\": \"281395000\",\r\n                                    \"display\": \"Glasgow Coma Score eye opening subscore (observable entity)\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"valueCodeableConcept\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://loinc.org\",\r\n                                    \"code\": \"LA6562-8\",\r\n                                    \"display\": \"4\"\r\n                                }\r\n                            ]\r\n                        }\r\n                    },\r\n                    {\r\n                        \"code\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://snomed.info/sct\",\r\n                                    \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                                    \"code\": \"281397008\",\r\n                                    \"display\": \"Glasgow Coma Scale verbal response subscore (observable entity)\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"valueCodeableConcept\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://loinc.org\",\r\n                                    \"code\": \"LA6560-2\",\r\n                                    \"display\": \"5\"\r\n                                }\r\n                            ]\r\n                        }\r\n                    },\r\n                    {\r\n                        \"code\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://snomed.info/sct\",\r\n                                    \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                                    \"code\": \"281396004\",\r\n                                    \"display\": \"Glasgow Coma Scale motor response subscore (observable entity)\"\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"valueCodeableConcept\": {\r\n                            \"coding\": [\r\n                                {\r\n                                    \"system\": \"http://loinc.org\",\r\n                                    \"code\": \"LA6558-6\",\r\n                                    \"display\": \"6\"\r\n                                }\r\n                            ]\r\n                        }\r\n                    }\r\n                ],\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:9776a4d8-b1c1-4f0e-ae65-99e642f3f2a6\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Condition\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Condition\",\r\n                \"id\": \"example\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-condition-problem\"\r\n                    ]\r\n                },\r\n                \"category\": [\r\n                    {\r\n                        \"coding\": [\r\n                            {\r\n                                \"system\": \"http://snomed.info/sct\",\r\n                                \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n                                \"code\": \"55607006\",\r\n                                \"display\": \"Problem (finding)\"\r\n                            }\r\n                        ]\r\n                    }\r\n                ],\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"code\": \"127348004\",\r\n                            \"display\": \"Motor vehicle accident victim (Finding)\"\r\n                        }\r\n                    ],\r\n                    \"text\": \"Motor vehicle accident victim\"\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"fullUrl\": \"urn:uuid:10083546-e6de-43a1-af43-56eec4b66698\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Procedure\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"Procedure\",\r\n                \"id\": \"rs-example-procedure\",\r\n                \"meta\": {\r\n                    \"profile\": [\r\n                        \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-procedure\"\r\n                    ]\r\n                },\r\n                \"text\": {\r\n                    \"status\": \"generated\",\r\n                    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">Post-crash psychosocial counselling provided to rs-example-patient.</div>\"\r\n                },\r\n                \"status\": \"completed\",\r\n                \"code\": {\r\n                    \"coding\": [\r\n                        {\r\n                            \"system\": \"http://snomed.info/sct\",\r\n                            \"code\": \"1255511000\",\r\n                            \"display\": \"Referral for personal emergency response system\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"subject\": {\r\n                    \"reference\": \"urn:uuid:1a949caf-aeeb-412a-b696-1fe38f4bd618\"\r\n                },\r\n                \"encounter\": {\r\n                    \"reference\": \"urn:uuid:cec604e3-aaae-4541-aebd-2ba1d30645d3\"\r\n                },\r\n                \"performedDateTime\": \"2025-11-01T09:30:00+08:00\",\r\n                \"performer\": [\r\n                    {\r\n                        \"actor\": {\r\n                            \"reference\": \"Practitioner/rs-practitioner-teamlead\"\r\n                        }\r\n                    }\r\n                ],\r\n                \"note\": [\r\n                    {\r\n                        \"text\": \"Discussed post-crash support resources with patient and family.\"\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{fhir}}",
							"host": [
								"{{fhir}}"
							]
						}
					},
					"response": []
				}
			],
			"description": "Bundle includes\n\n1. Obs - Date Time Received - code LOINC 30976-5 - valueDateTime\n    \n2. Patient - Name - Family\n    \n3. Patient - Name - First Name \\[0\\]\n    \n4. Patient - Name - Middle Name \\[1\\]\n    \n5. Patient - gender\n    \n6. Patient - Age - by birthDate\n    \n7. Patient - Address\n    \n8. Patient - Identifier\n    \n9. Encounter - EMS Identifier\n    \n10. Organization - name\n    \n11. Obs - Vitals RR - code SCT 86290005 - valueQuantity.value - 18\n    \n12. Obs - Vitals Pulse - code SCT 78564009 - valueQuantity.value - 88\n    \n13. Obs - Vitals BP - component\\[0\\].valueQuantity.value 120; component\\[1\\].valueQuantity.value 80\n    \n14. Obs - LOC\n    \n    1. code - 6942003\n        \n    2. valueCodeableConcept.coding\\[0\\].code - 248234008\n        \n15. Obs - Vitals Temp\n    \n    1. code 386725007\n        \n    2. valueQuantity.value 37\n        \n16. Obs - Pupils\n    \n    1. code 271733001\n        \n    2. valueCodeableConcept.coding\\[0\\].code - 386666001 - Pupils Equal and Reactive to Light\n        \n17. Obs - Cyanosis\n    \n    1. code 3415004\n        \n    2. valueCodeableConcept - 54622005\n        \n18. GCS\n    \n    1. component - 281395000 - Glasgow Coma Score eye opening\n        \n        1. valueCodeableConcept - LA6562-8 - \"4\"\n            \n    2. component - 281397008 - Glasgow Coma Scale verbal response\n        \n        1. valueCodeableConcept - LA6560-2 - \"5\"\n            \n    3. component - 281396004 - Glasgow Coma Scale motor response\n        \n        1. valueCodeableConcept - LA6558-6 - \"6\"\n            \n19. Condition Problem - code 127348004 - \"Motor vehicle accident victim (Finding)\" \\* change this to trauma\n    \n20. Procedure Intervention - code 1255511000 - \"Referral for personal emergency response system\" \\* change this to anything appropriate in EMS\n    \n\nThere are other profiles that can be used, this Resource is not exhuastive\n\n[References - DRAFT PH Road Safety Implementation Guide](https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/references.html)\n\nOr use the Road Safety IG Bundle Builder Tool before sending to the SHR\n\n[https://roadsafety-lab.vercel.app/](https://roadsafety-lab.vercel.app/)",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Use Case 2 & 3",
			"item": [
				{
					"name": "Use Case 2",
					"item": [
						{
							"name": "Retrieve Patient by Identifier",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Visualization Script for Patient Resource",
											"const template = `",
											"<style>",
											"    body {",
											"        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;",
											"        padding: 20px;",
											"        background-color: #f0f4f8;",
											"        margin: 0;",
											"    }",
											"    .patient-container {",
											"        max-width: 900px;",
											"        margin: 0 auto;",
											"    }",
											"    .patient-header {",
											"        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);",
											"        color: white;",
											"        padding: 25px;",
											"        border-radius: 10px;",
											"        margin-bottom: 25px;",
											"        box-shadow: 0 4px 6px rgba(0,0,0,0.1);",
											"    }",
											"    .patient-header h1 {",
											"        margin: 0 0 10px 0;",
											"        font-size: 28px;",
											"        font-weight: 600;",
											"    }",
											"    .patient-id {",
											"        font-size: 14px;",
											"        opacity: 0.9;",
											"        font-family: 'Courier New', monospace;",
											"    }",
											"    .info-card {",
											"        background-color: white;",
											"        border-radius: 8px;",
											"        padding: 20px;",
											"        margin-bottom: 20px;",
											"        box-shadow: 0 2px 4px rgba(0,0,0,0.08);",
											"    }",
											"    .card-title {",
											"        font-size: 18px;",
											"        font-weight: 600;",
											"        color: #2d3748;",
											"        margin-bottom: 15px;",
											"        padding-bottom: 10px;",
											"        border-bottom: 2px solid #667eea;",
											"    }",
											"    .info-table {",
											"        width: 100%;",
											"        border-collapse: collapse;",
											"    }",
											"    .info-table tr {",
											"        border-bottom: 1px solid #e2e8f0;",
											"    }",
											"    .info-table tr:last-child {",
											"        border-bottom: none;",
											"    }",
											"    .info-table td {",
											"        padding: 12px 8px;",
											"        vertical-align: top;",
											"    }",
											"    .info-label {",
											"        font-weight: 600;",
											"        color: #4a5568;",
											"        width: 35%;",
											"    }",
											"    .info-value {",
											"        color: #2d3748;",
											"    }",
											"    .badge {",
											"        display: inline-block;",
											"        padding: 4px 12px;",
											"        border-radius: 12px;",
											"        font-size: 12px;",
											"        font-weight: 600;",
											"        text-transform: uppercase;",
											"    }",
											"    .badge-active {",
											"        background-color: #48bb78;",
											"        color: white;",
											"    }",
											"    .badge-inactive {",
											"        background-color: #fc8181;",
											"        color: white;",
											"    }",
											"    .badge-male {",
											"        background-color: #4299e1;",
											"        color: white;",
											"    }",
											"    .badge-female {",
											"        background-color: #ed64a6;",
											"        color: white;",
											"    }",
											"    .badge-other {",
											"        background-color: #9f7aea;",
											"        color: white;",
											"    }",
											"    .extension-item {",
											"        background-color: #f7fafc;",
											"        padding: 8px 12px;",
											"        border-radius: 4px;",
											"        margin-bottom: 8px;",
											"        border-left: 3px solid #667eea;",
											"    }",
											"    .extension-url {",
											"        font-size: 11px;",
											"        color: #718096;",
											"        word-break: break-all;",
											"        margin-bottom: 4px;",
											"    }",
											"    .extension-value {",
											"        font-weight: 600;",
											"        color: #2d3748;",
											"    }",
											"    .meta-info {",
											"        font-size: 12px;",
											"        color: #718096;",
											"    }",
											"    .no-data {",
											"        color: #a0aec0;",
											"        font-style: italic;",
											"    }",
											"</style>",
											"",
											"<div class=\"patient-container\">",
											"    <div class=\"patient-header\">",
											"        <h1>{{patientName}}</h1>",
											"        <div class=\"patient-id\">Patient ID: {{patientId}}</div>",
											"    </div>",
											"",
											"    <!-- Demographics Card -->",
											"    <div class=\"info-card\">",
											"        <div class=\"card-title\">ðŸ“‹ Demographics</div>",
											"        <table class=\"info-table\">",
											"            <tr>",
											"                <td class=\"info-label\">Full Name</td>",
											"                <td class=\"info-value\">{{fullName}}</td>",
											"            </tr>",
											"            <tr>",
											"                <td class=\"info-label\">Gender</td>",
											"                <td class=\"info-value\">",
											"                    <span class=\"badge badge-{{gender}}\">{{genderDisplay}}</span>",
											"                </td>",
											"            </tr>",
											"            <tr>",
											"                <td class=\"info-label\">Birth Date</td>",
											"                <td class=\"info-value\">{{birthDate}}</td>",
											"            </tr>",
											"            <tr>",
											"                <td class=\"info-label\">Status</td>",
											"                <td class=\"info-value\">",
											"                    <span class=\"badge {{activeClass}}\">{{activeStatus}}</span>",
											"                </td>",
											"            </tr>",
											"        </table>",
											"    </div>",
											"",
											"    <!-- Contact Information Card -->",
											"    <div class=\"info-card\">",
											"        <div class=\"card-title\">ðŸ“ž Contact Information</div>",
											"        <table class=\"info-table\">",
											"            {{#if hasTelecom}}",
											"                {{#each telecom}}",
											"                <tr>",
											"                    <td class=\"info-label\">{{system}}</td>",
											"                    <td class=\"info-value\">{{value}}</td>",
											"                </tr>",
											"                {{/each}}",
											"            {{else}}",
											"                <tr>",
											"                    <td colspan=\"2\" class=\"no-data\">No contact information available</td>",
											"                </tr>",
											"            {{/if}}",
											"        </table>",
											"    </div>",
											"",
											"    <!-- Address Card -->",
											"    <div class=\"info-card\">",
											"        <div class=\"card-title\">ðŸ  Address</div>",
											"        <table class=\"info-table\">",
											"            {{#if hasAddress}}",
											"                {{#each addresses}}",
											"                <tr>",
											"                    <td class=\"info-label\">{{use}}</td>",
											"                    <td class=\"info-value\">",
											"                        {{#if line}}{{line}}<br>{{/if}}",
											"                        {{#if city}}{{city}}, {{/if}}{{#if postalCode}}{{postalCode}}<br>{{/if}}",
											"                        {{#if country}}{{country}}{{/if}}",
											"                    </td>",
											"                </tr>",
											"                {{/each}}",
											"            {{else}}",
											"                <tr>",
											"                    <td colspan=\"2\" class=\"no-data\">No address information available</td>",
											"                </tr>",
											"            {{/if}}",
											"        </table>",
											"    </div>",
											"",
											"    <!-- Extensions Card -->",
											"    {{#if hasExtensions}}",
											"    <div class=\"info-card\">",
											"        <div class=\"card-title\">ðŸ”§ Extensions</div>",
											"        {{#each extensions}}",
											"        <div class=\"extension-item\">",
											"            <div class=\"extension-url\">{{url}}</div>",
											"            <div class=\"extension-value\">{{value}}</div>",
											"        </div>",
											"        {{/each}}",
											"    </div>",
											"    {{/if}}",
											"",
											"    <!-- Metadata Card -->",
											"    <div class=\"info-card\">",
											"        <div class=\"card-title\">â„¹ï¸ Metadata</div>",
											"        <table class=\"info-table\">",
											"            <tr>",
											"                <td class=\"info-label\">Resource Type</td>",
											"                <td class=\"info-value\">{{resourceType}}</td>",
											"            </tr>",
											"            {{#if meta.versionId}}",
											"            <tr>",
											"                <td class=\"info-label\">Version</td>",
											"                <td class=\"info-value\">{{meta.versionId}}</td>",
											"            </tr>",
											"            {{/if}}",
											"            {{#if meta.lastUpdated}}",
											"            <tr>",
											"                <td class=\"info-label\">Last Updated</td>",
											"                <td class=\"info-value\">{{meta.lastUpdated}}</td>",
											"            </tr>",
											"            {{/if}}",
											"            {{#if meta.source}}",
											"            <tr>",
											"                <td class=\"info-label\">Source</td>",
											"                <td class=\"info-value meta-info\">{{meta.source}}</td>",
											"            </tr>",
											"            {{/if}}",
											"            {{#if meta.hasProfiles}}",
											"            <tr>",
											"                <td class=\"info-label\">Profiles</td>",
											"                <td class=\"info-value\">",
											"                    {{#each meta.profiles}}",
											"                    <div class=\"meta-info\">{{this}}</div>",
											"                    {{/each}}",
											"                </td>",
											"            </tr>",
											"            {{/if}}",
											"        </table>",
											"    </div>",
											"</div>",
											"`;",
											"",
											"function constructVisualizerPayload() {",
											"    const response = pm.response.json();",
											"    ",
											"    // Extract patient name",
											"    let patientName = 'Unknown Patient';",
											"    let fullName = 'N/A';",
											"    if (response.name && response.name.length > 0) {",
											"        const officialName = response.name.find(n => n.use === 'official') || response.name[0];",
											"        const given = officialName.given ? officialName.given.join(' ') : '';",
											"        const family = officialName.family || '';",
											"        patientName = given + ' ' + family;",
											"        fullName = patientName.trim() || 'N/A';",
											"    }",
											"    ",
											"    // Process telecom",
											"    const telecom = response.telecom ? response.telecom.map(t => ({",
											"        system: (t.system || 'Unknown').charAt(0).toUpperCase() + (t.system || 'Unknown').slice(1),",
											"        value: t.value || 'N/A'",
											"    })) : [];",
											"    ",
											"    // Process addresses",
											"    const addresses = response.address ? response.address.map(addr => ({",
											"        use: (addr.use || 'Unknown').charAt(0).toUpperCase() + (addr.use || 'Unknown').slice(1),",
											"        line: addr.line ? addr.line.join(', ') : '',",
											"        city: addr.city || '',",
											"        postalCode: addr.postalCode || '',",
											"        country: addr.country || ''",
											"    })) : [];",
											"    ",
											"    // Process extensions",
											"    const extensions = response.extension ? response.extension.map(ext => {",
											"        let value = 'N/A';",
											"        if (ext.valueBoolean !== undefined) value = ext.valueBoolean ? 'True' : 'False';",
											"        else if (ext.valueString) value = ext.valueString;",
											"        else if (ext.valueInteger !== undefined) value = ext.valueInteger.toString();",
											"        else if (ext.valueCode) value = ext.valueCode;",
											"        ",
											"        return {",
											"            url: ext.url || 'Unknown',",
											"            value: value",
											"        };",
											"    }) : [];",
											"    ",
											"    // Gender display",
											"    const genderDisplay = response.gender ? response.gender.charAt(0).toUpperCase() + response.gender.slice(1) : 'Unknown';",
											"    ",
											"    return {",
											"        patientId: response.id || 'N/A',",
											"        patientName: patientName.trim() || 'Unknown Patient',",
											"        fullName: fullName,",
											"        resourceType: response.resourceType || 'Patient',",
											"        gender: response.gender || 'other',",
											"        genderDisplay: genderDisplay,",
											"        birthDate: response.birthDate || 'N/A',",
											"        activeStatus: response.active ? 'Active' : 'Inactive',",
											"        activeClass: response.active ? 'badge-active' : 'badge-inactive',",
											"        telecom: telecom,",
											"        hasTelecom: telecom.length > 0,",
											"        addresses: addresses,",
											"        hasAddress: addresses.length > 0,",
											"        extensions: extensions,",
											"        hasExtensions: extensions.length > 0,",
											"        meta: {",
											"            versionId: response.meta?.versionId || '',",
											"            lastUpdated: response.meta?.lastUpdated || '',",
											"            source: response.meta?.source || '',",
											"            profiles: response.meta?.profile || [],",
											"            hasProfiles: response.meta?.profile && response.meta.profile.length > 0",
											"        }",
											"    };",
											"}",
											"",
											"pm.visualizer.set(template, constructVisualizerPayload());"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{fhir}}/Patient/RSMinimumExamplePatient",
									"host": [
										"{{fhir}}"
									],
									"path": [
										"Patient",
										"RSMinimumExamplePatient"
									]
								}
							},
							"response": []
						},
						{
							"name": "Retrieve Patient by FHIR ID",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Visualization Script for Patient Resource",
											"const template = `",
											"<style>",
											"    body {",
											"        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;",
											"        padding: 20px;",
											"        background-color: #f0f4f8;",
											"        margin: 0;",
											"    }",
											"    .patient-container {",
											"        max-width: 900px;",
											"        margin: 0 auto;",
											"    }",
											"    .patient-header {",
											"        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);",
											"        color: white;",
											"        padding: 25px;",
											"        border-radius: 10px;",
											"        margin-bottom: 25px;",
											"        box-shadow: 0 4px 6px rgba(0,0,0,0.1);",
											"    }",
											"    .patient-header h1 {",
											"        margin: 0 0 10px 0;",
											"        font-size: 28px;",
											"        font-weight: 600;",
											"    }",
											"    .patient-id {",
											"        font-size: 14px;",
											"        opacity: 0.9;",
											"        font-family: 'Courier New', monospace;",
											"    }",
											"    .info-card {",
											"        background-color: white;",
											"        border-radius: 8px;",
											"        padding: 20px;",
											"        margin-bottom: 20px;",
											"        box-shadow: 0 2px 4px rgba(0,0,0,0.08);",
											"    }",
											"    .card-title {",
											"        font-size: 18px;",
											"        font-weight: 600;",
											"        color: #2d3748;",
											"        margin-bottom: 15px;",
											"        padding-bottom: 10px;",
											"        border-bottom: 2px solid #667eea;",
											"    }",
											"    .info-table {",
											"        width: 100%;",
											"        border-collapse: collapse;",
											"    }",
											"    .info-table tr {",
											"        border-bottom: 1px solid #e2e8f0;",
											"    }",
											"    .info-table tr:last-child {",
											"        border-bottom: none;",
											"    }",
											"    .info-table td {",
											"        padding: 12px 8px;",
											"        vertical-align: top;",
											"    }",
											"    .info-label {",
											"        font-weight: 600;",
											"        color: #4a5568;",
											"        width: 35%;",
											"    }",
											"    .info-value {",
											"        color: #2d3748;",
											"    }",
											"    .badge {",
											"        display: inline-block;",
											"        padding: 4px 12px;",
											"        border-radius: 12px;",
											"        font-size: 12px;",
											"        font-weight: 600;",
											"        text-transform: uppercase;",
											"    }",
											"    .badge-active {",
											"        background-color: #48bb78;",
											"        color: white;",
											"    }",
											"    .badge-inactive {",
											"        background-color: #fc8181;",
											"        color: white;",
											"    }",
											"    .badge-male {",
											"        background-color: #4299e1;",
											"        color: white;",
											"    }",
											"    .badge-female {",
											"        background-color: #ed64a6;",
											"        color: white;",
											"    }",
											"    .badge-other {",
											"        background-color: #9f7aea;",
											"        color: white;",
											"    }",
											"    .extension-item {",
											"        background-color: #f7fafc;",
											"        padding: 8px 12px;",
											"        border-radius: 4px;",
											"        margin-bottom: 8px;",
											"        border-left: 3px solid #667eea;",
											"    }",
											"    .extension-url {",
											"        font-size: 11px;",
											"        color: #718096;",
											"        word-break: break-all;",
											"        margin-bottom: 4px;",
											"    }",
											"    .extension-value {",
											"        font-weight: 600;",
											"        color: #2d3748;",
											"    }",
											"    .meta-info {",
											"        font-size: 12px;",
											"        color: #718096;",
											"    }",
											"    .no-data {",
											"        color: #a0aec0;",
											"        font-style: italic;",
											"    }",
											"</style>",
											"",
											"<div class=\"patient-container\">",
											"    <div class=\"patient-header\">",
											"        <h1>{{patientName}}</h1>",
											"        <div class=\"patient-id\">Patient ID: {{patientId}}</div>",
											"    </div>",
											"",
											"    <!-- Demographics Card -->",
											"    <div class=\"info-card\">",
											"        <div class=\"card-title\">ðŸ“‹ Demographics</div>",
											"        <table class=\"info-table\">",
											"            <tr>",
											"                <td class=\"info-label\">Full Name</td>",
											"                <td class=\"info-value\">{{fullName}}</td>",
											"            </tr>",
											"            <tr>",
											"                <td class=\"info-label\">Gender</td>",
											"                <td class=\"info-value\">",
											"                    <span class=\"badge badge-{{gender}}\">{{genderDisplay}}</span>",
											"                </td>",
											"            </tr>",
											"            <tr>",
											"                <td class=\"info-label\">Birth Date</td>",
											"                <td class=\"info-value\">{{birthDate}}</td>",
											"            </tr>",
											"            <tr>",
											"                <td class=\"info-label\">Status</td>",
											"                <td class=\"info-value\">",
											"                    <span class=\"badge {{activeClass}}\">{{activeStatus}}</span>",
											"                </td>",
											"            </tr>",
											"        </table>",
											"    </div>",
											"",
											"    <!-- Contact Information Card -->",
											"    <div class=\"info-card\">",
											"        <div class=\"card-title\">ðŸ“ž Contact Information</div>",
											"        <table class=\"info-table\">",
											"            {{#if hasTelecom}}",
											"                {{#each telecom}}",
											"                <tr>",
											"                    <td class=\"info-label\">{{system}}</td>",
											"                    <td class=\"info-value\">{{value}}</td>",
											"                </tr>",
											"                {{/each}}",
											"            {{else}}",
											"                <tr>",
											"                    <td colspan=\"2\" class=\"no-data\">No contact information available</td>",
											"                </tr>",
											"            {{/if}}",
											"        </table>",
											"    </div>",
											"",
											"    <!-- Address Card -->",
											"    <div class=\"info-card\">",
											"        <div class=\"card-title\">ðŸ  Address</div>",
											"        <table class=\"info-table\">",
											"            {{#if hasAddress}}",
											"                {{#each addresses}}",
											"                <tr>",
											"                    <td class=\"info-label\">{{use}}</td>",
											"                    <td class=\"info-value\">",
											"                        {{#if line}}{{line}}<br>{{/if}}",
											"                        {{#if city}}{{city}}, {{/if}}{{#if postalCode}}{{postalCode}}<br>{{/if}}",
											"                        {{#if country}}{{country}}{{/if}}",
											"                    </td>",
											"                </tr>",
											"                {{/each}}",
											"            {{else}}",
											"                <tr>",
											"                    <td colspan=\"2\" class=\"no-data\">No address information available</td>",
											"                </tr>",
											"            {{/if}}",
											"        </table>",
											"    </div>",
											"",
											"    <!-- Extensions Card -->",
											"    {{#if hasExtensions}}",
											"    <div class=\"info-card\">",
											"        <div class=\"card-title\">ðŸ”§ Extensions</div>",
											"        {{#each extensions}}",
											"        <div class=\"extension-item\">",
											"            <div class=\"extension-url\">{{url}}</div>",
											"            <div class=\"extension-value\">{{value}}</div>",
											"        </div>",
											"        {{/each}}",
											"    </div>",
											"    {{/if}}",
											"",
											"    <!-- Metadata Card -->",
											"    <div class=\"info-card\">",
											"        <div class=\"card-title\">â„¹ï¸ Metadata</div>",
											"        <table class=\"info-table\">",
											"            <tr>",
											"                <td class=\"info-label\">Resource Type</td>",
											"                <td class=\"info-value\">{{resourceType}}</td>",
											"            </tr>",
											"            {{#if meta.versionId}}",
											"            <tr>",
											"                <td class=\"info-label\">Version</td>",
											"                <td class=\"info-value\">{{meta.versionId}}</td>",
											"            </tr>",
											"            {{/if}}",
											"            {{#if meta.lastUpdated}}",
											"            <tr>",
											"                <td class=\"info-label\">Last Updated</td>",
											"                <td class=\"info-value\">{{meta.lastUpdated}}</td>",
											"            </tr>",
											"            {{/if}}",
											"            {{#if meta.source}}",
											"            <tr>",
											"                <td class=\"info-label\">Source</td>",
											"                <td class=\"info-value meta-info\">{{meta.source}}</td>",
											"            </tr>",
											"            {{/if}}",
											"            {{#if meta.hasProfiles}}",
											"            <tr>",
											"                <td class=\"info-label\">Profiles</td>",
											"                <td class=\"info-value\">",
											"                    {{#each meta.profiles}}",
											"                    <div class=\"meta-info\">{{this}}</div>",
											"                    {{/each}}",
											"                </td>",
											"            </tr>",
											"            {{/if}}",
											"        </table>",
											"    </div>",
											"</div>",
											"`;",
											"",
											"function constructVisualizerPayload() {",
											"    const response = pm.response.json();",
											"    ",
											"    // Extract patient name",
											"    let patientName = 'Unknown Patient';",
											"    let fullName = 'N/A';",
											"    if (response.name && response.name.length > 0) {",
											"        const officialName = response.name.find(n => n.use === 'official') || response.name[0];",
											"        const given = officialName.given ? officialName.given.join(' ') : '';",
											"        const family = officialName.family || '';",
											"        patientName = given + ' ' + family;",
											"        fullName = patientName.trim() || 'N/A';",
											"    }",
											"    ",
											"    // Process telecom",
											"    const telecom = response.telecom ? response.telecom.map(t => ({",
											"        system: (t.system || 'Unknown').charAt(0).toUpperCase() + (t.system || 'Unknown').slice(1),",
											"        value: t.value || 'N/A'",
											"    })) : [];",
											"    ",
											"    // Process addresses",
											"    const addresses = response.address ? response.address.map(addr => ({",
											"        use: (addr.use || 'Unknown').charAt(0).toUpperCase() + (addr.use || 'Unknown').slice(1),",
											"        line: addr.line ? addr.line.join(', ') : '',",
											"        city: addr.city || '',",
											"        postalCode: addr.postalCode || '',",
											"        country: addr.country || ''",
											"    })) : [];",
											"    ",
											"    // Process extensions",
											"    const extensions = response.extension ? response.extension.map(ext => {",
											"        let value = 'N/A';",
											"        if (ext.valueBoolean !== undefined) value = ext.valueBoolean ? 'True' : 'False';",
											"        else if (ext.valueString) value = ext.valueString;",
											"        else if (ext.valueInteger !== undefined) value = ext.valueInteger.toString();",
											"        else if (ext.valueCode) value = ext.valueCode;",
											"        ",
											"        return {",
											"            url: ext.url || 'Unknown',",
											"            value: value",
											"        };",
											"    }) : [];",
											"    ",
											"    // Gender display",
											"    const genderDisplay = response.gender ? response.gender.charAt(0).toUpperCase() + response.gender.slice(1) : 'Unknown';",
											"    ",
											"    return {",
											"        patientId: response.id || 'N/A',",
											"        patientName: patientName.trim() || 'Unknown Patient',",
											"        fullName: fullName,",
											"        resourceType: response.resourceType || 'Patient',",
											"        gender: response.gender || 'other',",
											"        genderDisplay: genderDisplay,",
											"        birthDate: response.birthDate || 'N/A',",
											"        activeStatus: response.active ? 'Active' : 'Inactive',",
											"        activeClass: response.active ? 'badge-active' : 'badge-inactive',",
											"        telecom: telecom,",
											"        hasTelecom: telecom.length > 0,",
											"        addresses: addresses,",
											"        hasAddress: addresses.length > 0,",
											"        extensions: extensions,",
											"        hasExtensions: extensions.length > 0,",
											"        meta: {",
											"            versionId: response.meta?.versionId || '',",
											"            lastUpdated: response.meta?.lastUpdated || '',",
											"            source: response.meta?.source || '',",
											"            profiles: response.meta?.profile || [],",
											"            hasProfiles: response.meta?.profile && response.meta.profile.length > 0",
											"        }",
											"    };",
											"}",
											"",
											"pm.visualizer.set(template, constructVisualizerPayload());"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{fhir}}/Patient/RSMinimumExamplePatient",
									"host": [
										"{{fhir}}"
									],
									"path": [
										"Patient",
										"RSMinimumExamplePatient"
									]
								}
							},
							"response": []
						},
						{
							"name": "Retrieve Everything about a Patient",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Visualization Script\r",
											"// Visualization Script\r",
											"const template = `\r",
											"<style>\r",
											"    body {\r",
											"        font-family: Arial, sans-serif;\r",
											"        padding: 20px;\r",
											"        background-color: #f5f5f5;\r",
											"    }\r",
											"    .bundle-header {\r",
											"        background-color: #2c3e50;\r",
											"        color: white;\r",
											"        padding: 15px;\r",
											"        border-radius: 5px;\r",
											"        margin-bottom: 20px;\r",
											"    }\r",
											"    .bundle-header h2 {\r",
											"        margin: 0 0 10px 0;\r",
											"    }\r",
											"    .bundle-info {\r",
											"        font-size: 14px;\r",
											"    }\r",
											"    .resource-section {\r",
											"        margin-bottom: 30px;\r",
											"    }\r",
											"    .resource-title {\r",
											"        background-color: #3498db;\r",
											"        color: white;\r",
											"        padding: 10px 15px;\r",
											"        border-radius: 5px 5px 0 0;\r",
											"        font-weight: bold;\r",
											"        font-size: 16px;\r",
											"    }\r",
											"    table {\r",
											"        width: 100%;\r",
											"        border-collapse: collapse;\r",
											"        background-color: white;\r",
											"        box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r",
											"        margin-bottom: 20px;\r",
											"    }\r",
											"    th {\r",
											"        background-color: #34495e;\r",
											"        color: white;\r",
											"        padding: 12px;\r",
											"        text-align: left;\r",
											"        font-weight: bold;\r",
											"    }\r",
											"    td {\r",
											"        padding: 10px 12px;\r",
											"        border-bottom: 1px solid #ddd;\r",
											"    }\r",
											"    tr:hover {\r",
											"        background-color: #f8f9fa;\r",
											"    }\r",
											"    .resource-type {\r",
											"        display: inline-block;\r",
											"        padding: 4px 8px;\r",
											"        border-radius: 3px;\r",
											"        font-weight: bold;\r",
											"        font-size: 12px;\r",
											"    }\r",
											"    .type-encounter { background-color: #e74c3c; color: white; }\r",
											"    .type-observation { background-color: #f39c12; color: white; }\r",
											"    .type-patient { background-color: #27ae60; color: white; }\r",
											"    .type-organization { background-color: #9b59b6; color: white; }\r",
											"    .status-badge {\r",
											"        display: inline-block;\r",
											"        padding: 3px 8px;\r",
											"        border-radius: 3px;\r",
											"        font-size: 11px;\r",
											"        font-weight: bold;\r",
											"    }\r",
											"    .status-finished { background-color: #27ae60; color: white; }\r",
											"    .status-final { background-color: #3498db; color: white; }\r",
											"    .status-active { background-color: #2ecc71; color: white; }\r",
											"</style>\r",
											"\r",
											"<div class=\"bundle-header\">\r",
											"    <h2>FHIR Bundle: {{bundleId}}</h2>\r",
											"    <div class=\"bundle-info\">\r",
											"        <strong>Type:</strong> {{bundleType}} | \r",
											"        <strong>Total Resources:</strong> {{totalResources}} | \r",
											"        <strong>Last Updated:</strong> {{lastUpdated}}\r",
											"    </div>\r",
											"</div>\r",
											"\r",
											"{{#if encounters}}\r",
											"<div class=\"resource-section\">\r",
											"    <div class=\"resource-title\">\r",
											"        <span class=\"resource-type type-encounter\">ENCOUNTER</span> Encounter Resources\r",
											"    </div>\r",
											"    <table>\r",
											"        <thead>\r",
											"            <tr>\r",
											"                <th>ID</th>\r",
											"                <th>Status</th>\r",
											"                <th>Class</th>\r",
											"                <th>Identifiers</th>\r",
											"                <th>Period</th>\r",
											"                <th>Subject</th>\r",
											"            </tr>\r",
											"        </thead>\r",
											"        <tbody>\r",
											"            {{#each encounters}}\r",
											"            <tr>\r",
											"                <td>{{id}}</td>\r",
											"                <td><span class=\"status-badge status-{{status}}\">{{status}}</span></td>\r",
											"                <td>{{class}}</td>\r",
											"                <td>{{identifiers}}</td>\r",
											"                <td>{{period}}</td>\r",
											"                <td>{{subject}}</td>\r",
											"            </tr>\r",
											"            {{/each}}\r",
											"        </tbody>\r",
											"    </table>\r",
											"</div>\r",
											"{{/if}}\r",
											"\r",
											"{{#if observations}}\r",
											"<div class=\"resource-section\">\r",
											"    <div class=\"resource-title\">\r",
											"        <span class=\"resource-type type-observation\">OBSERVATION</span> Observation Resources\r",
											"    </div>\r",
											"    <table>\r",
											"        <thead>\r",
											"            <tr>\r",
											"                <th>ID</th>\r",
											"                <th>Status</th>\r",
											"                <th>Code/Display</th>\r",
											"                <th>Value</th>\r",
											"                <th>Body Site</th>\r",
											"                <th>Effective Date</th>\r",
											"                <th>Subject</th>\r",
											"            </tr>\r",
											"        </thead>\r",
											"        <tbody>\r",
											"            {{#each observations}}\r",
											"            <tr>\r",
											"                <td>{{id}}</td>\r",
											"                <td><span class=\"status-badge status-{{status}}\">{{status}}</span></td>\r",
											"                <td>{{codeDisplay}}</td>\r",
											"                <td>{{value}}</td>\r",
											"                <td>{{bodySite}}</td>\r",
											"                <td>{{effectiveDateTime}}</td>\r",
											"                <td>{{subject}}</td>\r",
											"            </tr>\r",
											"            {{/each}}\r",
											"        </tbody>\r",
											"    </table>\r",
											"</div>\r",
											"{{/if}}\r",
											"\r",
											"{{#if patients}}\r",
											"<div class=\"resource-section\">\r",
											"    <div class=\"resource-title\">\r",
											"        <span class=\"resource-type type-patient\">PATIENT</span> Patient Resources\r",
											"    </div>\r",
											"    <table>\r",
											"        <thead>\r",
											"            <tr>\r",
											"                <th>ID</th>\r",
											"                <th>Name</th>\r",
											"                <th>Gender</th>\r",
											"                <th>Birth Date</th>\r",
											"                <th>Contact</th>\r",
											"                <th>Address</th>\r",
											"                <th>Active</th>\r",
											"            </tr>\r",
											"        </thead>\r",
											"        <tbody>\r",
											"            {{#each patients}}\r",
											"            <tr>\r",
											"                <td>{{id}}</td>\r",
											"                <td>{{name}}</td>\r",
											"                <td>{{gender}}</td>\r",
											"                <td>{{birthDate}}</td>\r",
											"                <td>{{contact}}</td>\r",
											"                <td>{{address}}</td>\r",
											"                <td><span class=\"status-badge status-{{activeStatus}}\">{{active}}</span></td>\r",
											"            </tr>\r",
											"            {{/each}}\r",
											"        </tbody>\r",
											"    </table>\r",
											"</div>\r",
											"{{/if}}\r",
											"\r",
											"{{#if organizations}}\r",
											"<div class=\"resource-section\">\r",
											"    <div class=\"resource-title\">\r",
											"        <span class=\"resource-type type-organization\">ORGANIZATION</span> Organization Resources\r",
											"    </div>\r",
											"    <table>\r",
											"        <thead>\r",
											"            <tr>\r",
											"                <th>ID</th>\r",
											"                <th>Name</th>\r",
											"                <th>Contact</th>\r",
											"                <th>Address</th>\r",
											"            </tr>\r",
											"        </thead>\r",
											"        <tbody>\r",
											"            {{#each organizations}}\r",
											"            <tr>\r",
											"                <td>{{id}}</td>\r",
											"                <td>{{name}}</td>\r",
											"                <td>{{contact}}</td>\r",
											"                <td>{{address}}</td>\r",
											"            </tr>\r",
											"            {{/each}}\r",
											"        </tbody>\r",
											"    </table>\r",
											"</div>\r",
											"{{/if}}\r",
											"`;\r",
											"\r",
											"function createPayload() {\r",
											"    const response = pm.response.json();\r",
											"    \r",
											"    const encounters = [];\r",
											"    const observations = [];\r",
											"    const patients = [];\r",
											"    const organizations = [];\r",
											"    \r",
											"    if (response.entry) {\r",
											"        response.entry.forEach(function(entry) {\r",
											"            const resource = entry.resource;\r",
											"            \r",
											"            if (resource.resourceType === 'Encounter') {\r",
											"                const identifiers = resource.identifier ? \r",
											"                    resource.identifier.map(function(id) { \r",
											"                        return id.value; \r",
											"                    }).join(', ') : 'N/A';\r",
											"                \r",
											"                const period = resource.period ? \r",
											"                    (resource.period.start || 'N/A') + ' to ' + (resource.period.end || 'N/A') : 'N/A';\r",
											"                \r",
											"                encounters.push({\r",
											"                    id: resource.id || 'N/A',\r",
											"                    status: resource.status || 'N/A',\r",
											"                    class: resource.class && resource.class.display ? resource.class.display : 'N/A',\r",
											"                    identifiers: identifiers,\r",
											"                    period: period,\r",
											"                    subject: resource.subject && resource.subject.reference ? resource.subject.reference : 'N/A'\r",
											"                });\r",
											"            }\r",
											"            \r",
											"            if (resource.resourceType === 'Observation') {\r",
											"                const codeDisplay = resource.code && resource.code.coding && resource.code.coding[0] ? \r",
											"                    resource.code.coding[0].display : 'N/A';\r",
											"                \r",
											"                const value = resource.valueBoolean !== undefined ? \r",
											"                    (resource.valueBoolean ? 'True' : 'False') : \r",
											"                    (resource.valueQuantity ? resource.valueQuantity.value + ' ' + (resource.valueQuantity.unit || '') : 'N/A');\r",
											"                \r",
											"                const bodySite = resource.bodySite && resource.bodySite.coding && resource.bodySite.coding[0] ? \r",
											"                    resource.bodySite.coding[0].display : 'N/A';\r",
											"                \r",
											"                observations.push({\r",
											"                    id: resource.id || 'N/A',\r",
											"                    status: resource.status || 'N/A',\r",
											"                    codeDisplay: codeDisplay,\r",
											"                    value: value,\r",
											"                    bodySite: bodySite,\r",
											"                    effectiveDateTime: resource.effectiveDateTime || 'N/A',\r",
											"                    subject: resource.subject && resource.subject.reference ? resource.subject.reference : 'N/A'\r",
											"                });\r",
											"            }\r",
											"            \r",
											"            if (resource.resourceType === 'Patient') {\r",
											"                const name = resource.name && resource.name[0] ? \r",
											"                    (resource.name[0].given ? resource.name[0].given.join(' ') : '') + ' ' + (resource.name[0].family || '') : 'N/A';\r",
											"                \r",
											"                const contact = resource.telecom && resource.telecom[0] ? \r",
											"                    resource.telecom[0].value : 'N/A';\r",
											"                \r",
											"                const address = resource.address && resource.address[0] ? \r",
											"                    (resource.address[0].line ? resource.address[0].line.join(', ') : '') + ', ' + \r",
											"                    (resource.address[0].city || '') + ', ' + \r",
											"                    (resource.address[0].postalCode || '') : 'N/A';\r",
											"                \r",
											"                patients.push({\r",
											"                    id: resource.id || 'N/A',\r",
											"                    name: name.trim(),\r",
											"                    gender: resource.gender || 'N/A',\r",
											"                    birthDate: resource.birthDate || 'N/A',\r",
											"                    contact: contact,\r",
											"                    address: address,\r",
											"                    active: resource.active ? 'Active' : 'Inactive',\r",
											"                    activeStatus: resource.active ? 'active' : 'inactive'\r",
											"                });\r",
											"            }\r",
											"            \r",
											"            if (resource.resourceType === 'Organization') {\r",
											"                const contact = resource.telecom && resource.telecom[0] ? \r",
											"                    resource.telecom[0].value : 'N/A';\r",
											"                \r",
											"                const address = resource.address && resource.address[0] ? \r",
											"                    (resource.address[0].line ? resource.address[0].line.join(', ') : '') + ', ' + \r",
											"                    (resource.address[0].city || '') + ', ' + \r",
											"                    (resource.address[0].state || '') + ' ' + \r",
											"                    (resource.address[0].postalCode || '') : 'N/A';\r",
											"                \r",
											"                organizations.push({\r",
											"                    id: resource.id || 'N/A',\r",
											"                    name: resource.name || 'N/A',\r",
											"                    contact: contact,\r",
											"                    address: address\r",
											"                });\r",
											"            }\r",
											"        });\r",
											"    }\r",
											"    \r",
											"    return {\r",
											"        bundleId: response.id || 'N/A',\r",
											"        bundleType: response.type || 'N/A',\r",
											"        totalResources: response.total || 0,\r",
											"        lastUpdated: response.meta && response.meta.lastUpdated ? response.meta.lastUpdated : 'N/A',\r",
											"        encounters: encounters.length > 0 ? encounters : null,\r",
											"        observations: observations.length > 0 ? observations : null,\r",
											"        patients: patients.length > 0 ? patients : null,\r",
											"        organizations: organizations.length > 0 ? organizations : null\r",
											"    };\r",
											"}\r",
											"\r",
											"pm.visualizer.set(template, createPayload());"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{fhir}}/Patient/RSMinimumExamplePatient/$everything",
									"host": [
										"{{fhir}}"
									],
									"path": [
										"Patient",
										"RSMinimumExamplePatient",
										"$everything"
									]
								}
							},
							"response": []
						},
						{
							"name": "Retrieve Encounter",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Visualization Script",
											"// Visualization Script",
											"const template = `",
											"<style>",
											"    body {",
											"        font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;",
											"        padding: 20px;",
											"        background-color: #f5f5f5;",
											"    }",
											"    .container {",
											"        max-width: 900px;",
											"        margin: 0 auto;",
											"        background-color: white;",
											"        border-radius: 8px;",
											"        box-shadow: 0 2px 4px rgba(0,0,0,0.1);",
											"        padding: 24px;",
											"    }",
											"    h2 {",
											"        color: #333;",
											"        margin-top: 0;",
											"        margin-bottom: 20px;",
											"        border-bottom: 2px solid #FF6C37;",
											"        padding-bottom: 10px;",
											"    }",
											"    h3 {",
											"        color: #555;",
											"        margin-top: 24px;",
											"        margin-bottom: 12px;",
											"        font-size: 16px;",
											"    }",
											"    table {",
											"        width: 100%;",
											"        border-collapse: collapse;",
											"        margin-bottom: 20px;",
											"    }",
											"    th {",
											"        background-color: #FF6C37;",
											"        color: white;",
											"        padding: 12px;",
											"        text-align: left;",
											"        font-weight: 600;",
											"    }",
											"    td {",
											"        padding: 12px;",
											"        border-bottom: 1px solid #e0e0e0;",
											"    }",
											"    tr:hover {",
											"        background-color: #f9f9f9;",
											"    }",
											"    .label {",
											"        font-weight: 600;",
											"        color: #666;",
											"        width: 40%;",
											"    }",
											"    .value {",
											"        color: #333;",
											"    }",
											"    .status-badge {",
											"        display: inline-block;",
											"        padding: 4px 12px;",
											"        border-radius: 12px;",
											"        font-size: 14px;",
											"        font-weight: 600;",
											"    }",
											"    .status-finished {",
											"        background-color: #d4edda;",
											"        color: #155724;",
											"    }",
											"    .status-in-progress {",
											"        background-color: #fff3cd;",
											"        color: #856404;",
											"    }",
											"    .reference {",
											"        color: #0066cc;",
											"        font-family: monospace;",
											"        font-size: 13px;",
											"    }",
											"</style>",
											"",
											"<div class=\"container\">",
											"    <h2>FHIR Encounter Resource</h2>",
											"    ",
											"    <h3>Basic Information</h3>",
											"    <table>",
											"        <tr>",
											"            <td class=\"label\">Resource Type</td>",
											"            <td class=\"value\">{{resourceType}}</td>",
											"        </tr>",
											"        <tr>",
											"            <td class=\"label\">Encounter ID</td>",
											"            <td class=\"value\">{{id}}</td>",
											"        </tr>",
											"        <tr>",
											"            <td class=\"label\">Status</td>",
											"            <td class=\"value\">",
											"                <span class=\"status-badge status-{{status}}\">{{status}}</span>",
											"            </td>",
											"        </tr>",
											"        <tr>",
											"            <td class=\"label\">Class</td>",
											"            <td class=\"value\">{{classDisplay}} ({{classCode}})</td>",
											"        </tr>",
											"    </table>",
											"",
											"    <h3>Identifiers</h3>",
											"    <table>",
											"        <thead>",
											"            <tr>",
											"                <th>System</th>",
											"                <th>Value</th>",
											"            </tr>",
											"        </thead>",
											"        <tbody>",
											"            {{#each identifiers}}",
											"            <tr>",
											"                <td>{{system}}</td>",
											"                <td><strong>{{value}}</strong></td>",
											"            </tr>",
											"            {{/each}}",
											"        </tbody>",
											"    </table>",
											"",
											"    <h3>References</h3>",
											"    <table>",
											"        <tr>",
											"            <td class=\"label\">Patient</td>",
											"            <td class=\"value\"><span class=\"reference\">{{patientReference}}</span></td>",
											"        </tr>",
											"        <tr>",
											"            <td class=\"label\">Service Provider</td>",
											"            <td class=\"value\"><span class=\"reference\">{{serviceProviderReference}}</span></td>",
											"        </tr>",
											"    </table>",
											"",
											"    <h3>Period</h3>",
											"    <table>",
											"        <tr>",
											"            <td class=\"label\">Start Time</td>",
											"            <td class=\"value\">{{periodStart}}</td>",
											"        </tr>",
											"        <tr>",
											"            <td class=\"label\">End Time</td>",
											"            <td class=\"value\">{{periodEnd}}</td>",
											"        </tr>",
											"        <tr>",
											"            <td class=\"label\">Duration</td>",
											"            <td class=\"value\">{{duration}}</td>",
											"        </tr>",
											"    </table>",
											"",
											"    <h3>Metadata</h3>",
											"    <table>",
											"        <tr>",
											"            <td class=\"label\">Version ID</td>",
											"            <td class=\"value\">{{metaVersionId}}</td>",
											"        </tr>",
											"        <tr>",
											"            <td class=\"label\">Last Updated</td>",
											"            <td class=\"value\">{{metaLastUpdated}}</td>",
											"        </tr>",
											"        <tr>",
											"            <td class=\"label\">Source</td>",
											"            <td class=\"value\">{{metaSource}}</td>",
											"        </tr>",
											"    </table>",
											"</div>",
											"`;",
											"",
											"function createPayload() {",
											"    const response = pm.response.json();",
											"    ",
											"    // Calculate duration",
											"    let duration = 'N/A';",
											"    if (response.period && response.period.start && response.period.end) {",
											"        const start = new Date(response.period.start);",
											"        const end = new Date(response.period.end);",
											"        const diffMs = end - start;",
											"        const diffHours = Math.floor(diffMs / (1000 * 60 * 60));",
											"        const diffMinutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));",
											"        duration = diffHours + ' hours ' + diffMinutes + ' minutes';",
											"    }",
											"    ",
											"    return {",
											"        resourceType: response.resourceType || 'N/A',",
											"        id: response.id || 'N/A',",
											"        status: response.status || 'unknown',",
											"        classDisplay: response.class && response.class.display ? response.class.display : 'N/A',",
											"        classCode: response.class && response.class.code ? response.class.code : 'N/A',",
											"        identifiers: response.identifier ? response.identifier.map(function(id) {",
											"            return {",
											"                system: id.system || 'N/A',",
											"                value: id.value || 'N/A'",
											"            };",
											"        }) : [],",
											"        patientReference: response.subject && response.subject.reference ? response.subject.reference : 'N/A',",
											"        serviceProviderReference: response.serviceProvider && response.serviceProvider.reference ? response.serviceProvider.reference : 'N/A',",
											"        periodStart: response.period && response.period.start ? response.period.start : 'N/A',",
											"        periodEnd: response.period && response.period.end ? response.period.end : 'N/A',",
											"        duration: duration,",
											"        metaVersionId: response.meta && response.meta.versionId ? response.meta.versionId : 'N/A',",
											"        metaLastUpdated: response.meta && response.meta.lastUpdated ? response.meta.lastUpdated : 'N/A',",
											"        metaSource: response.meta && response.meta.source ? response.meta.source : 'N/A'",
											"    };",
											"}",
											"",
											"pm.visualizer.set(template, createPayload());",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{fhir}}/Encounter/RSMinimumExampleEncounter",
									"host": [
										"{{fhir}}"
									],
									"path": [
										"Encounter",
										"RSMinimumExampleEncounter"
									]
								}
							},
							"response": []
						},
						{
							"name": "Retrieve Everything from an Encounter",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{fhir}}/Encounter/RSMinimumExampleEncounter/$everything",
									"host": [
										"{{fhir}}"
									],
									"path": [
										"Encounter",
										"RSMinimumExampleEncounter",
										"$everything"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Use Case 3",
					"item": [
						{
							"name": "Empty Bundle Template",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"resourceType\": \"Bundle\",\r\n    \"type\": \"transaction\",\r\n    \"entry\": [\r\n        {\r\n            \"fullUrl\": \"urn:uuid:150bb622-81a9-40f2-85dc-aeb432cd40d4\",\r\n            \"request\": {\r\n                \"method\": \"POST\",\r\n                \"url\": \"Observation\"\r\n            },\r\n            \"resource\": {\r\n                \"resourceType\": \"\"\r\n            }\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{tx}}/Bundle/$validate/Bundle/$validate",
									"host": [
										"{{tx}}"
									],
									"path": [
										"Bundle",
										"$validate",
										"Bundle",
										"$validate"
									]
								}
							},
							"response": []
						},
						{
							"name": "[0] Facility EMR to SHR - Validate",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Visualization Script\r",
											"// Visualization Script\r",
											"const template = `\r",
											"<style>\r",
											"  body {\r",
											"    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;\r",
											"    padding: 20px;\r",
											"    background-color: #f5f5f5;\r",
											"    margin: 0;\r",
											"  }\r",
											"  .header {\r",
											"    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r",
											"    color: white;\r",
											"    padding: 20px;\r",
											"    border-radius: 8px 8px 0 0;\r",
											"    margin-bottom: 0;\r",
											"  }\r",
											"  .header h2 {\r",
											"    margin: 0 0 10px 0;\r",
											"    font-size: 24px;\r",
											"  }\r",
											"  .header p {\r",
											"    margin: 5px 0;\r",
											"    opacity: 0.9;\r",
											"    font-size: 14px;\r",
											"  }\r",
											"  .summary {\r",
											"    background: white;\r",
											"    padding: 15px 20px;\r",
											"    border-left: 4px solid #3b82f6;\r",
											"    margin-bottom: 20px;\r",
											"    box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r",
											"  }\r",
											"  .summary-grid {\r",
											"    display: grid;\r",
											"    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\r",
											"    gap: 15px;\r",
											"    margin-top: 10px;\r",
											"  }\r",
											"  .summary-item {\r",
											"    display: flex;\r",
											"    flex-direction: column;\r",
											"  }\r",
											"  .summary-label {\r",
											"    font-size: 12px;\r",
											"    color: #6b7280;\r",
											"    text-transform: uppercase;\r",
											"    letter-spacing: 0.5px;\r",
											"    margin-bottom: 5px;\r",
											"  }\r",
											"  .summary-value {\r",
											"    font-size: 20px;\r",
											"    font-weight: 600;\r",
											"    color: #1f2937;\r",
											"  }\r",
											"  .table-container {\r",
											"    background: white;\r",
											"    border-radius: 0 0 8px 8px;\r",
											"    box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r",
											"    overflow: hidden;\r",
											"  }\r",
											"  table {\r",
											"    width: 100%;\r",
											"    border-collapse: collapse;\r",
											"  }\r",
											"  thead {\r",
											"    background: #f9fafb;\r",
											"    border-bottom: 2px solid #e5e7eb;\r",
											"  }\r",
											"  th {\r",
											"    padding: 12px 16px;\r",
											"    text-align: left;\r",
											"    font-weight: 600;\r",
											"    color: #374151;\r",
											"    font-size: 13px;\r",
											"    text-transform: uppercase;\r",
											"    letter-spacing: 0.5px;\r",
											"  }\r",
											"  td {\r",
											"    padding: 12px 16px;\r",
											"    border-bottom: 1px solid #f3f4f6;\r",
											"    color: #1f2937;\r",
											"    vertical-align: top;\r",
											"  }\r",
											"  tr:last-child td {\r",
											"    border-bottom: none;\r",
											"  }\r",
											"  tbody tr:hover {\r",
											"    background-color: #f9fafb;\r",
											"  }\r",
											"  .severity-badge {\r",
											"    display: inline-block;\r",
											"    padding: 4px 12px;\r",
											"    border-radius: 12px;\r",
											"    font-size: 12px;\r",
											"    font-weight: 600;\r",
											"    text-transform: uppercase;\r",
											"  }\r",
											"  .severity-error {\r",
											"    background-color: #fee2e2;\r",
											"    color: #991b1b;\r",
											"  }\r",
											"  .severity-warning {\r",
											"    background-color: #fef3c7;\r",
											"    color: #92400e;\r",
											"  }\r",
											"  .severity-information {\r",
											"    background-color: #dbeafe;\r",
											"    color: #1e40af;\r",
											"  }\r",
											"  .severity-fatal {\r",
											"    background-color: #fce7f3;\r",
											"    color: #831843;\r",
											"  }\r",
											"  .code-badge {\r",
											"    display: inline-block;\r",
											"    padding: 4px 8px;\r",
											"    border-radius: 4px;\r",
											"    font-size: 11px;\r",
											"    font-weight: 500;\r",
											"    background-color: #e5e7eb;\r",
											"    color: #374151;\r",
											"    font-family: 'Courier New', monospace;\r",
											"  }\r",
											"  .location-list {\r",
											"    margin: 0;\r",
											"    padding-left: 20px;\r",
											"    font-size: 13px;\r",
											"    color: #4b5563;\r",
											"  }\r",
											"  .location-list li {\r",
											"    margin: 4px 0;\r",
											"    word-break: break-all;\r",
											"  }\r",
											"  .diagnostics-text {\r",
											"    font-size: 13px;\r",
											"    line-height: 1.5;\r",
											"    color: #374151;\r",
											"    max-width: 500px;\r",
											"  }\r",
											"  .no-issues {\r",
											"    padding: 40px;\r",
											"    text-align: center;\r",
											"    color: #10b981;\r",
											"    font-size: 18px;\r",
											"    font-weight: 500;\r",
											"  }\r",
											"</style>\r",
											"\r",
											"<div class=\"header\">\r",
											"  <h2>OperationOutcome Validation Results</h2>\r",
											"  <p>Resource Type: {{resourceType}}</p>\r",
											"</div>\r",
											"\r",
											"<div class=\"summary\">\r",
											"  <div class=\"summary-grid\">\r",
											"    <div class=\"summary-item\">\r",
											"      <span class=\"summary-label\">Total Issues</span>\r",
											"      <span class=\"summary-value\">{{totalIssues}}</span>\r",
											"    </div>\r",
											"    <div class=\"summary-item\">\r",
											"      <span class=\"summary-label\">Errors</span>\r",
											"      <span class=\"summary-value\">{{errorCount}}</span>\r",
											"    </div>\r",
											"    <div class=\"summary-item\">\r",
											"      <span class=\"summary-label\">Warnings</span>\r",
											"      <span class=\"summary-value\">{{warningCount}}</span>\r",
											"    </div>\r",
											"    <div class=\"summary-item\">\r",
											"      <span class=\"summary-label\">Information</span>\r",
											"      <span class=\"summary-value\">{{infoCount}}</span>\r",
											"    </div>\r",
											"  </div>\r",
											"</div>\r",
											"\r",
											"{{#if hasIssues}}\r",
											"<div class=\"table-container\">\r",
											"  <table>\r",
											"    <thead>\r",
											"      <tr>\r",
											"        <th style=\"width: 10%;\">Severity</th>\r",
											"        <th style=\"width: 15%;\">Code</th>\r",
											"        <th style=\"width: 35%;\">Location</th>\r",
											"        <th style=\"width: 40%;\">Diagnostics</th>\r",
											"      </tr>\r",
											"    </thead>\r",
											"    <tbody>\r",
											"      {{#each issues}}\r",
											"      <tr>\r",
											"        <td>\r",
											"          <span class=\"severity-badge severity-{{severity}}\">{{severity}}</span>\r",
											"        </td>\r",
											"        <td>\r",
											"          <span class=\"code-badge\">{{code}}</span>\r",
											"        </td>\r",
											"        <td>\r",
											"          {{#if locations}}\r",
											"          <ul class=\"location-list\">\r",
											"            {{#each locations}}\r",
											"            <li>{{this}}</li>\r",
											"            {{/each}}\r",
											"          </ul>\r",
											"          {{else}}\r",
											"          <span style=\"color: #9ca3af; font-style: italic;\">No location specified</span>\r",
											"          {{/if}}\r",
											"        </td>\r",
											"        <td>\r",
											"          <div class=\"diagnostics-text\">{{diagnostics}}</div>\r",
											"        </td>\r",
											"      </tr>\r",
											"      {{/each}}\r",
											"    </tbody>\r",
											"  </table>\r",
											"</div>\r",
											"{{else}}\r",
											"<div class=\"table-container\">\r",
											"  <div class=\"no-issues\">âœ“ No issues found - validation successful!</div>\r",
											"</div>\r",
											"{{/if}}\r",
											"`;\r",
											"\r",
											"function createPayload() {\r",
											"    const response = pm.response.json();\r",
											"    const issues = response.issue || [];\r",
											"    \r",
											"    // Count issues by severity\r",
											"    let errorCount = 0;\r",
											"    let warningCount = 0;\r",
											"    let infoCount = 0;\r",
											"    \r",
											"    const processedIssues = issues.map(issue => {\r",
											"        const severity = issue.severity || 'unknown';\r",
											"        \r",
											"        // Count by severity\r",
											"        if (severity === 'error' || severity === 'fatal') {\r",
											"            errorCount++;\r",
											"        } else if (severity === 'warning') {\r",
											"            warningCount++;\r",
											"        } else if (severity === 'information') {\r",
											"            infoCount++;\r",
											"        }\r",
											"        \r",
											"        return {\r",
											"            severity: severity,\r",
											"            code: issue.code || 'N/A',\r",
											"            locations: issue.location || [],\r",
											"            diagnostics: issue.diagnostics || 'No diagnostic message provided'\r",
											"        };\r",
											"    });\r",
											"    \r",
											"    return {\r",
											"        resourceType: response.resourceType || 'OperationOutcome',\r",
											"        totalIssues: issues.length,\r",
											"        errorCount: errorCount,\r",
											"        warningCount: warningCount,\r",
											"        infoCount: infoCount,\r",
											"        hasIssues: issues.length > 0,\r",
											"        issues: processedIssues\r",
											"    };\r",
											"}\r",
											"\r",
											"pm.visualizer.set(template, createPayload());"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"resourceType\": \"Bundle\",\r\n  \"type\": \"transaction\",\r\n  \"entry\": [\r\n    {\r\n      \"fullUrl\": \"urn:uuid:dd932695-27c9-4dce-8ae2-01b6bd4f7eb8\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Organization\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Organization\",\r\n        \"id\": \"RSMinimumExampleOrganization\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-organization\"\r\n          ]\r\n        },\r\n        \"name\": \"Department of Health - Central Office\",\r\n        \"telecom\": [\r\n          {\r\n            \"system\": \"phone\",\r\n            \"value\": \"+63-2-752-8401\"\r\n          }\r\n        ],\r\n        \"address\": [\r\n          {\r\n            \"line\": [\r\n              \"San Lazaro Compound, Rizal Avenue\"\r\n            ],\r\n            \"city\": \"Manila\",\r\n            \"state\": \"NCR\",\r\n            \"postalCode\": \"1003\",\r\n            \"country\": \"PH\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"https://cdr.fhirlab.net/fhir/Patient/RSMinimumExamplePatient\",\r\n      \"request\": {\r\n        \"method\": \"PUT\",\r\n        \"url\": \"Patient\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Patient\",\r\n        \"id\": \"RSMinimumExamplePatient\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-patient\"\r\n          ]\r\n        },\r\n        \"extension\": [\r\n          {\r\n            \"url\": \"urn://example.com/ph-core/fhir/StructureDefinition/indigenous-people\",\r\n            \"valueBoolean\": false\r\n          }\r\n        ],\r\n        \"active\": true,\r\n        \"name\": [\r\n          {\r\n            \"use\": \"official\",\r\n            \"family\": \"Reyes\",\r\n            \"given\": [\r\n              \"Thomas Niccolo\",\r\n              \"Filamor\"\r\n            ]\r\n          }\r\n        ],\r\n        \"identifier\": [\r\n            {\r\n                \"system\": \"https://psa.gov.ph/\",\r\n                \"value\": \"63-584789845-5\"\r\n            }\r\n        ],\r\n        \"telecom\": [\r\n          {\r\n            \"system\": \"phone\",\r\n            \"value\": \"+63-912-345-6789\"\r\n          }\r\n        ],\r\n        \"gender\": \"male\",\r\n        \"birthDate\": \"1990-01-01\",\r\n        \"address\": [\r\n          {\r\n            \"use\": \"home\",\r\n            \"line\": [\r\n              \"123 Sampaloc Street\"\r\n            ],\r\n            \"city\": \"Manila\",\r\n            \"postalCode\": \"1008\",\r\n            \"country\": \"PH\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"https://cdr.fhirlab.net/fhir/Encounter/RSMinimumExampleEncounter\",\r\n      \"request\": {\r\n        \"method\": \"PUT\",\r\n        \"url\": \"Encounter\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Encounter\",\r\n        \"id\": \"RSMinimumExampleEncounter\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-encounter\"\r\n          ]\r\n        },\r\n        \"identifier\": [\r\n          {\r\n            \"system\": \"http://doh.incident.system/\",\r\n            \"value\": \"INC-2025-0102\"\r\n          },\r\n          {\r\n            \"system\": \"http://doh.hospitalno.system/\",\r\n            \"value\": \"HCN-2025-1120\"\r\n          }\r\n        ],\r\n        \"status\": \"finished\",\r\n        \"class\": {\r\n          \"system\": \"http://loinc.org\",\r\n          \"code\": \"LA10268-3\",\r\n          \"display\": \"ER\"\r\n        },\r\n        \"period\": {\r\n          \"start\": \"2025-11-08T14:30:00+08:00\",\r\n          \"end\": \"2025-11-08T16:45:00+08:00\"\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"Patient/RSMinimumExamplePatient\"\r\n        },\r\n        \"serviceProvider\": {\r\n          \"reference\": \"urn:uuid:dd932695-27c9-4dce-8ae2-01b6bd4f7eb8\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:d83bc563-f9a0-4716-aa08-ac92c742d7c6\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Location\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Location\",\r\n        \"id\": \"RSMinimumExampleLocation\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-incident-location-incident\"\r\n          ]\r\n        },\r\n        \"description\": \"Incident at the corner of EDSA and Ayala Avenue\",\r\n        \"address\": {\r\n          \"line\": [\r\n            \"EDSA corner Ayala Avenue\"\r\n          ],\r\n          \"city\": \"Makati\",\r\n          \"country\": \"PH\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:4ceec423-2fea-48a1-bf9b-5b1158f2dd8f\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Observation\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Observation\",\r\n        \"id\": \"RSMinimumExampleObservationInjuryDatetime\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-injury-datetime\"\r\n          ]\r\n        },\r\n        \"status\": \"final\",\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"439771001\",\r\n              \"display\": \"Date of event (observable entity)\"\r\n            }\r\n          ]\r\n        },\r\n        \"effectiveDateTime\": \"2025-11-08T14:15:00+08:00\",\r\n        \"valueDateTime\": \"2025-11-08T14:15:00+08:00\",\r\n        \"subject\": {\r\n          \"reference\": \"Patient/RSMinimumExamplePatient\"\r\n        },\r\n        \"encounter\": {\r\n          \"reference\": \"Encounter/RSMinimumExampleEncounter\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:b82f396a-45f6-4c38-9570-d2c2633e8593\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Condition\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Condition\",\r\n        \"id\": \"RSMinimumExampleConditionNatureOfInjury\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-condition-nature-of-injury\"\r\n          ]\r\n        },\r\n        \"clinicalStatus\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://terminology.hl7.org/CodeSystem/condition-clinical\",\r\n              \"code\": \"active\"\r\n            }\r\n          ]\r\n        },\r\n        \"verificationStatus\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://terminology.hl7.org/CodeSystem/condition-ver-status\",\r\n              \"code\": \"confirmed\"\r\n            }\r\n          ]\r\n        },\r\n        \"category\": [\r\n          {\r\n            \"coding\": [\r\n              {\r\n                \"system\": \"http://hl7.org/fhir/sid/icd-10\",\r\n                \"code\": \"S72.3\",\r\n                \"display\": \"Fracture of shaft of femur\"\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"29718003\",\r\n              \"display\": \"Closed fracture of shaft of femur (disorder)\"\r\n            }\r\n          ]\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"Patient/RSMinimumExamplePatient\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:577da200-0d1d-438d-80e6-9945ace24e65\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Observation\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Observation\",\r\n        \"id\": \"RSMinimumExampleObsOpenWound\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-open-wound\"\r\n          ]\r\n        },\r\n        \"status\": \"final\",\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"125643001\",\r\n              \"display\": \"Open wound (disorder)\"\r\n            }\r\n          ]\r\n        },\r\n        \"effectiveDateTime\": \"2025-11-08T14:35:00+08:00\",\r\n        \"valueBoolean\": true,\r\n        \"note\": [\r\n          {\r\n            \"text\": \"Laceration from broken glass\"\r\n          }\r\n        ],\r\n        \"bodySite\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"4221004\",\r\n              \"display\": \"Arm\"\r\n            }\r\n          ]\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"Patient/RSMinimumExamplePatient\"\r\n        },\r\n        \"encounter\": {\r\n          \"reference\": \"Encounter/RSMinimumExampleEncounter\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:05e17525-4840-45d0-b3f0-e6bcfa1c3fb7\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Observation\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Observation\",\r\n        \"id\": \"RSMinimumExampleObservationTransportAccident\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-transport-vehicular-accident\"\r\n          ]\r\n        },\r\n        \"status\": \"final\",\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"274215009\",\r\n              \"display\": \"Transport accident (event)\"\r\n            }\r\n          ]\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"Patient/RSMinimumExamplePatient\"\r\n        },\r\n        \"effectiveDateTime\": \"2025-11-08T14:15:00+08:00\",\r\n        \"valueBoolean\": true\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:d6cbde03-4509-4675-a376-6bde2f75c9d9\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Observation\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Observation\",\r\n        \"id\": \"RSMinimumExampleObservationOutcome\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-outcome-release\"\r\n          ]\r\n        },\r\n        \"status\": \"final\",\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"418138009\",\r\n              \"display\": \"Patient condition finding (finding)\"\r\n            }\r\n          ]\r\n        },\r\n        \"effectiveDateTime\": \"2025-11-08T16:45:00+08:00\",\r\n        \"valueCodeableConcept\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"268910001\",\r\n              \"display\": \"Improved\"\r\n            }\r\n          ]\r\n        },\r\n        \"encounter\": {\r\n          \"reference\": \"Encounter/RSMinimumExampleEncounter\"\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"Patient/RSMinimumExamplePatient\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{tx}}/Bundle/$validate",
									"host": [
										"{{tx}}"
									],
									"path": [
										"Bundle",
										"$validate"
									]
								}
							},
							"response": []
						},
						{
							"name": "[1] Facility EMR to SHR - Send",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Visualization Script",
											"// Visualization Script",
											"const template = `",
											"<style>",
											"  body {",
											"    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;",
											"    padding: 20px;",
											"    background-color: #f5f5f5;",
											"  }",
											"  .header {",
											"    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);",
											"    color: white;",
											"    padding: 20px;",
											"    border-radius: 8px 8px 0 0;",
											"    margin-bottom: 0;",
											"  }",
											"  .header h2 {",
											"    margin: 0 0 10px 0;",
											"    font-size: 24px;",
											"  }",
											"  .header p {",
											"    margin: 5px 0;",
											"    opacity: 0.9;",
											"    font-size: 14px;",
											"  }",
											"  .summary {",
											"    background: white;",
											"    padding: 15px 20px;",
											"    border-left: 4px solid #10b981;",
											"    margin-bottom: 20px;",
											"    box-shadow: 0 1px 3px rgba(0,0,0,0.1);",
											"  }",
											"  .summary-grid {",
											"    display: grid;",
											"    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));",
											"    gap: 15px;",
											"    margin-top: 10px;",
											"  }",
											"  .summary-item {",
											"    display: flex;",
											"    flex-direction: column;",
											"  }",
											"  .summary-label {",
											"    font-size: 12px;",
											"    color: #6b7280;",
											"    text-transform: uppercase;",
											"    letter-spacing: 0.5px;",
											"    margin-bottom: 5px;",
											"  }",
											"  .summary-value {",
											"    font-size: 20px;",
											"    font-weight: 600;",
											"    color: #1f2937;",
											"  }",
											"  table {",
											"    width: 100%;",
											"    border-collapse: collapse;",
											"    background: white;",
											"    box-shadow: 0 1px 3px rgba(0,0,0,0.1);",
											"    border-radius: 8px;",
											"    overflow: hidden;",
											"  }",
											"  thead {",
											"    background: #f9fafb;",
											"    border-bottom: 2px solid #e5e7eb;",
											"  }",
											"  th {",
											"    padding: 12px 16px;",
											"    text-align: left;",
											"    font-weight: 600;",
											"    color: #374151;",
											"    font-size: 13px;",
											"    text-transform: uppercase;",
											"    letter-spacing: 0.5px;",
											"  }",
											"  td {",
											"    padding: 12px 16px;",
											"    border-bottom: 1px solid #f3f4f6;",
											"    color: #1f2937;",
											"  }",
											"  tr:last-child td {",
											"    border-bottom: none;",
											"  }",
											"  tbody tr:hover {",
											"    background-color: #f9fafb;",
											"  }",
											"  .status-badge {",
											"    display: inline-block;",
											"    padding: 4px 12px;",
											"    border-radius: 12px;",
											"    font-size: 12px;",
											"    font-weight: 600;",
											"    background-color: #d1fae5;",
											"    color: #065f46;",
											"  }",
											"  .resource-type {",
											"    font-weight: 600;",
											"    color: #6366f1;",
											"  }",
											"  .resource-id {",
											"    font-family: 'Courier New', monospace;",
											"    background: #f3f4f6;",
											"    padding: 2px 6px;",
											"    border-radius: 4px;",
											"    font-size: 13px;",
											"  }",
											"  .timestamp {",
											"    color: #6b7280;",
											"    font-size: 13px;",
											"  }",
											"</style>",
											"",
											"<div class=\"header\">",
											"  <h2>FHIR Transaction Response</h2>",
											"  <p><strong>Bundle ID:</strong> {{bundleId}}</p>",
											"  <p><strong>Type:</strong> {{bundleType}}</p>",
											"</div>",
											"",
											"<div class=\"summary\">",
											"  <div class=\"summary-grid\">",
											"    <div class=\"summary-item\">",
											"      <span class=\"summary-label\">Total Resources</span>",
											"      <span class=\"summary-value\">{{totalResources}}</span>",
											"    </div>",
											"    <div class=\"summary-item\">",
											"      <span class=\"summary-label\">Success Rate</span>",
											"      <span class=\"summary-value\">100%</span>",
											"    </div>",
											"    <div class=\"summary-item\">",
											"      <span class=\"summary-label\">Resource Types</span>",
											"      <span class=\"summary-value\">{{resourceTypes}}</span>",
											"    </div>",
											"  </div>",
											"</div>",
											"",
											"<table>",
											"  <thead>",
											"    <tr>",
											"      <th>#</th>",
											"      <th>Resource Type</th>",
											"      <th>Resource ID</th>",
											"      <th>Status</th>",
											"      <th>Version</th>",
											"      <th>Last Modified</th>",
											"    </tr>",
											"  </thead>",
											"  <tbody>",
											"    {{#each entries}}",
											"    <tr>",
											"      <td>{{index}}</td>",
											"      <td><span class=\"resource-type\">{{resourceType}}</span></td>",
											"      <td><span class=\"resource-id\">{{resourceId}}</span></td>",
											"      <td><span class=\"status-badge\">{{status}}</span></td>",
											"      <td>{{etag}}</td>",
											"      <td><span class=\"timestamp\">{{lastModified}}</span></td>",
											"    </tr>",
											"    {{/each}}",
											"  </tbody>",
											"</table>",
											"`;",
											"",
											"function createPayload() {",
											"  const responseData = pm.response.json();",
											"  ",
											"  // Extract entries and parse location to get resource type and ID",
											"  const entries = responseData.entry.map((entry, idx) => {",
											"    const location = entry.response.location;",
											"    const locationParts = location.split('/');",
											"    const resourceType = locationParts[0];",
											"    const resourceId = locationParts[1];",
											"    ",
											"    return {",
											"      index: idx + 1,",
											"      resourceType: resourceType,",
											"      resourceId: resourceId,",
											"      status: entry.response.status,",
											"      etag: entry.response.etag,",
											"      lastModified: new Date(entry.response.lastModified).toLocaleString()",
											"    };",
											"  });",
											"  ",
											"  // Count unique resource types",
											"  const resourceTypesSet = new Set(entries.map(e => e.resourceType));",
											"  ",
											"  return {",
											"    bundleId: responseData.id,",
											"    bundleType: responseData.type,",
											"    totalResources: entries.length,",
											"    resourceTypes: resourceTypesSet.size,",
											"    entries: entries",
											"  };",
											"}",
											"",
											"pm.visualizer.set(template, createPayload());",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"resourceType\": \"Bundle\",\r\n  \"type\": \"transaction\",\r\n  \"entry\": [\r\n    {\r\n      \"fullUrl\": \"urn:uuid:dd932695-27c9-4dce-8ae2-01b6bd4f7eb8\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Organization\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Organization\",\r\n        \"id\": \"RSMinimumExampleOrganization\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-organization\"\r\n          ]\r\n        },\r\n        \"name\": \"Department of Health - Central Office\",\r\n        \"telecom\": [\r\n          {\r\n            \"system\": \"phone\",\r\n            \"value\": \"+63-2-752-8401\"\r\n          }\r\n        ],\r\n        \"address\": [\r\n          {\r\n            \"line\": [\r\n              \"San Lazaro Compound, Rizal Avenue\"\r\n            ],\r\n            \"city\": \"Manila\",\r\n            \"state\": \"NCR\",\r\n            \"postalCode\": \"1003\",\r\n            \"country\": \"PH\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"https://cdr.fhirlab.net/fhir/Patient/RSMinimumExamplePatient\",\r\n      \"request\": {\r\n        \"method\": \"PUT\",\r\n        \"url\": \"Patient\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Patient\",\r\n        \"id\": \"RSMinimumExamplePatient\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-patient\"\r\n          ]\r\n        },\r\n        \"extension\": [\r\n          {\r\n            \"url\": \"urn://example.com/ph-core/fhir/StructureDefinition/indigenous-people\",\r\n            \"valueBoolean\": false\r\n          }\r\n        ],\r\n        \"active\": true,\r\n        \"name\": [\r\n          {\r\n            \"use\": \"official\",\r\n            \"family\": \"Reyes\",\r\n            \"given\": [\r\n              \"Thomas Niccolo\",\r\n              \"Filamor\"\r\n            ]\r\n          }\r\n        ],\r\n        \"identifier\": [\r\n            {\r\n                \"system\": \"https://psa.gov.ph/\",\r\n                \"value\": \"63-584789845-5\"\r\n            }\r\n        ],\r\n        \"telecom\": [\r\n          {\r\n            \"system\": \"phone\",\r\n            \"value\": \"+63-912-345-6789\"\r\n          }\r\n        ],\r\n        \"gender\": \"male\",\r\n        \"birthDate\": \"1990-01-01\",\r\n        \"address\": [\r\n          {\r\n            \"use\": \"home\",\r\n            \"line\": [\r\n              \"123 Sampaloc Street\"\r\n            ],\r\n            \"city\": \"Manila\",\r\n            \"postalCode\": \"1008\",\r\n            \"country\": \"PH\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"https://cdr.fhirlab.net/fhir/Encounter/RSMinimumExampleEncounter\",\r\n      \"request\": {\r\n        \"method\": \"PUT\",\r\n        \"url\": \"Encounter\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Encounter\",\r\n        \"id\": \"RSMinimumExampleEncounter\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-encounter\"\r\n          ]\r\n        },\r\n        \"identifier\": [\r\n          {\r\n            \"system\": \"http://doh.incident.system/\",\r\n            \"value\": \"INC-2025-0102\"\r\n          },\r\n          {\r\n            \"system\": \"http://doh.hospitalno.system/\",\r\n            \"value\": \"HCN-2025-1120\"\r\n          }\r\n        ],\r\n        \"status\": \"finished\",\r\n        \"class\": {\r\n          \"system\": \"http://loinc.org\",\r\n          \"code\": \"LA10268-3\",\r\n          \"display\": \"ER\"\r\n        },\r\n        \"period\": {\r\n          \"start\": \"2025-11-08T14:30:00+08:00\",\r\n          \"end\": \"2025-11-08T16:45:00+08:00\"\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"Patient/RSMinimumExamplePatient\"\r\n        },\r\n        \"serviceProvider\": {\r\n          \"reference\": \"urn:uuid:dd932695-27c9-4dce-8ae2-01b6bd4f7eb8\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:d83bc563-f9a0-4716-aa08-ac92c742d7c6\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Location\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Location\",\r\n        \"id\": \"RSMinimumExampleLocation\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-incident-location-incident\"\r\n          ]\r\n        },\r\n        \"description\": \"Incident at the corner of EDSA and Ayala Avenue\",\r\n        \"address\": {\r\n          \"line\": [\r\n            \"EDSA corner Ayala Avenue\"\r\n          ],\r\n          \"city\": \"Makati\",\r\n          \"country\": \"PH\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:4ceec423-2fea-48a1-bf9b-5b1158f2dd8f\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Observation\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Observation\",\r\n        \"id\": \"RSMinimumExampleObservationInjuryDatetime\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-injury-datetime\"\r\n          ]\r\n        },\r\n        \"status\": \"final\",\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"439771001\",\r\n              \"display\": \"Date of event (observable entity)\"\r\n            }\r\n          ]\r\n        },\r\n        \"effectiveDateTime\": \"2025-11-08T14:15:00+08:00\",\r\n        \"valueDateTime\": \"2025-11-08T14:15:00+08:00\",\r\n        \"subject\": {\r\n          \"reference\": \"Patient/RSMinimumExamplePatient\"\r\n        },\r\n        \"encounter\": {\r\n          \"reference\": \"Encounter/RSMinimumExampleEncounter\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:b82f396a-45f6-4c38-9570-d2c2633e8593\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Condition\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Condition\",\r\n        \"id\": \"RSMinimumExampleConditionNatureOfInjury\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-condition-nature-of-injury\"\r\n          ]\r\n        },\r\n        \"clinicalStatus\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://terminology.hl7.org/CodeSystem/condition-clinical\",\r\n              \"code\": \"active\"\r\n            }\r\n          ]\r\n        },\r\n        \"verificationStatus\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://terminology.hl7.org/CodeSystem/condition-ver-status\",\r\n              \"code\": \"confirmed\"\r\n            }\r\n          ]\r\n        },\r\n        \"category\": [\r\n          {\r\n            \"coding\": [\r\n              {\r\n                \"system\": \"http://hl7.org/fhir/sid/icd-10\",\r\n                \"code\": \"S72.3\",\r\n                \"display\": \"Fracture of shaft of femur\"\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"29718003\",\r\n              \"display\": \"Closed fracture of shaft of femur (disorder)\"\r\n            }\r\n          ]\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"Patient/RSMinimumExamplePatient\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:577da200-0d1d-438d-80e6-9945ace24e65\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Observation\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Observation\",\r\n        \"id\": \"RSMinimumExampleObsOpenWound\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-open-wound\"\r\n          ]\r\n        },\r\n        \"status\": \"final\",\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"125643001\",\r\n              \"display\": \"Open wound (disorder)\"\r\n            }\r\n          ]\r\n        },\r\n        \"effectiveDateTime\": \"2025-11-08T14:35:00+08:00\",\r\n        \"valueBoolean\": true,\r\n        \"note\": [\r\n          {\r\n            \"text\": \"Laceration from broken glass\"\r\n          }\r\n        ],\r\n        \"bodySite\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"4221004\",\r\n              \"display\": \"Arm\"\r\n            }\r\n          ]\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"Patient/RSMinimumExamplePatient\"\r\n        },\r\n        \"encounter\": {\r\n          \"reference\": \"Encounter/RSMinimumExampleEncounter\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:05e17525-4840-45d0-b3f0-e6bcfa1c3fb7\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Observation\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Observation\",\r\n        \"id\": \"RSMinimumExampleObservationTransportAccident\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-transport-vehicular-accident\"\r\n          ]\r\n        },\r\n        \"status\": \"final\",\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"274215009\",\r\n              \"display\": \"Transport accident (event)\"\r\n            }\r\n          ]\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"Patient/RSMinimumExamplePatient\"\r\n        },\r\n        \"effectiveDateTime\": \"2025-11-08T14:15:00+08:00\",\r\n        \"valueBoolean\": true\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:d6cbde03-4509-4675-a376-6bde2f75c9d9\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Observation\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Observation\",\r\n        \"id\": \"RSMinimumExampleObservationOutcome\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-outcome-release\"\r\n          ]\r\n        },\r\n        \"status\": \"final\",\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"418138009\",\r\n              \"display\": \"Patient condition finding (finding)\"\r\n            }\r\n          ]\r\n        },\r\n        \"effectiveDateTime\": \"2025-11-08T16:45:00+08:00\",\r\n        \"valueCodeableConcept\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"268910001\",\r\n              \"display\": \"Improved\"\r\n            }\r\n          ]\r\n        },\r\n        \"encounter\": {\r\n          \"reference\": \"Encounter/RSMinimumExampleEncounter\"\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"Patient/RSMinimumExamplePatient\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{fhir}}",
									"host": [
										"{{fhir}}"
									]
								}
							},
							"response": []
						}
					],
					"description": "Bundle includes\n\n1. Organization - name\n    \n2. Patient - Name - Family\n    \n3. Patient - Name - First Name \\[0\\]\n    \n4. Patient - Name - Middle Name \\[1\\]\n    \n5. Patient - gender\n    \n6. Patient - Age - by birthDate\n    \n7. Patient - Address\n    \n8. Encounter - Identifier - Registry No\n    \n9. Encounter - Identifier - Hospital ID No\n    \n10. Location - incident location profile - Address\n    \n11. Obs - Injury DateTime - valueDateTime\n    \n12. Condition - Nature Of Injury - ICD code\n    \n13. Obs - Open Wound - valueBoolean - True Code - Snomed CT Code (125643001)\n    \n14. Obs - Transport Accident - valueBoolean - True - SCT (274215009)\n    \n15. Obs - Outcome - Improved - SCT 268910001\n    \n\nThere are other profiles that can be used, this Resource is not exhuastive\n\n[References - DRAFT PH Road Safety Implementation Guide](https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/references.html)\n\nOr use the Road Safety IG Bundle Builder Tool before sending to the SHR\n\n[https://roadsafety-lab.vercel.app/](https://roadsafety-lab.vercel.app/)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"packages": {},
								"requests": {},
								"exec": [
									""
								]
							}
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Use Case 4",
			"item": [
				{
					"name": "SHR to Government Agency",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{fhir}}/Encounter/",
							"host": [
								"{{fhir}}"
							],
							"path": [
								"Encounter",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Retrieve Everything about a Patient",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{fhir}}/Patient/RSMinimumExamplePatient/$everything",
							"host": [
								"{{fhir}}"
							],
							"path": [
								"Patient",
								"RSMinimumExamplePatient",
								"$everything"
							]
						}
					},
					"response": []
				},
				{
					"name": "Retrieve Everything from an Encounter",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{fhir}}/Encounter/RSMinimumExampleEncounter/$everything",
							"host": [
								"{{fhir}}"
							],
							"path": [
								"Encounter",
								"RSMinimumExampleEncounter",
								"$everything"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Use Case 5",
			"item": [
				{
					"name": "SHR to Primary Care EMR",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{fhir}}/Patient/RSMinimumExamplePatient/$everything",
							"host": [
								"{{fhir}}"
							],
							"path": [
								"Patient",
								"RSMinimumExamplePatient",
								"$everything"
							]
						}
					},
					"response": []
				},
				{
					"name": "[0] Follow up to to SHR - Validate",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Visualization Script\r",
									"// Visualization Script\r",
									"const template = `\r",
									"<style>\r",
									"  body {\r",
									"    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;\r",
									"    padding: 20px;\r",
									"    background-color: #f5f5f5;\r",
									"    margin: 0;\r",
									"  }\r",
									"  .header {\r",
									"    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r",
									"    color: white;\r",
									"    padding: 20px;\r",
									"    border-radius: 8px 8px 0 0;\r",
									"    margin-bottom: 0;\r",
									"  }\r",
									"  .header h2 {\r",
									"    margin: 0 0 10px 0;\r",
									"    font-size: 24px;\r",
									"  }\r",
									"  .header p {\r",
									"    margin: 5px 0;\r",
									"    opacity: 0.9;\r",
									"    font-size: 14px;\r",
									"  }\r",
									"  .summary {\r",
									"    background: white;\r",
									"    padding: 15px 20px;\r",
									"    border-left: 4px solid #3b82f6;\r",
									"    margin-bottom: 20px;\r",
									"    box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r",
									"  }\r",
									"  .summary-grid {\r",
									"    display: grid;\r",
									"    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\r",
									"    gap: 15px;\r",
									"    margin-top: 10px;\r",
									"  }\r",
									"  .summary-item {\r",
									"    display: flex;\r",
									"    flex-direction: column;\r",
									"  }\r",
									"  .summary-label {\r",
									"    font-size: 12px;\r",
									"    color: #6b7280;\r",
									"    text-transform: uppercase;\r",
									"    letter-spacing: 0.5px;\r",
									"    margin-bottom: 5px;\r",
									"  }\r",
									"  .summary-value {\r",
									"    font-size: 20px;\r",
									"    font-weight: 600;\r",
									"    color: #1f2937;\r",
									"  }\r",
									"  .table-container {\r",
									"    background: white;\r",
									"    border-radius: 0 0 8px 8px;\r",
									"    box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r",
									"    overflow: hidden;\r",
									"  }\r",
									"  table {\r",
									"    width: 100%;\r",
									"    border-collapse: collapse;\r",
									"  }\r",
									"  thead {\r",
									"    background: #f9fafb;\r",
									"    border-bottom: 2px solid #e5e7eb;\r",
									"  }\r",
									"  th {\r",
									"    padding: 12px 16px;\r",
									"    text-align: left;\r",
									"    font-weight: 600;\r",
									"    color: #374151;\r",
									"    font-size: 13px;\r",
									"    text-transform: uppercase;\r",
									"    letter-spacing: 0.5px;\r",
									"  }\r",
									"  td {\r",
									"    padding: 12px 16px;\r",
									"    border-bottom: 1px solid #f3f4f6;\r",
									"    color: #1f2937;\r",
									"    vertical-align: top;\r",
									"  }\r",
									"  tr:last-child td {\r",
									"    border-bottom: none;\r",
									"  }\r",
									"  tbody tr:hover {\r",
									"    background-color: #f9fafb;\r",
									"  }\r",
									"  .severity-badge {\r",
									"    display: inline-block;\r",
									"    padding: 4px 12px;\r",
									"    border-radius: 12px;\r",
									"    font-size: 12px;\r",
									"    font-weight: 600;\r",
									"    text-transform: uppercase;\r",
									"  }\r",
									"  .severity-error {\r",
									"    background-color: #fee2e2;\r",
									"    color: #991b1b;\r",
									"  }\r",
									"  .severity-warning {\r",
									"    background-color: #fef3c7;\r",
									"    color: #92400e;\r",
									"  }\r",
									"  .severity-information {\r",
									"    background-color: #dbeafe;\r",
									"    color: #1e40af;\r",
									"  }\r",
									"  .severity-fatal {\r",
									"    background-color: #fce7f3;\r",
									"    color: #831843;\r",
									"  }\r",
									"  .code-badge {\r",
									"    display: inline-block;\r",
									"    padding: 4px 8px;\r",
									"    border-radius: 4px;\r",
									"    font-size: 11px;\r",
									"    font-weight: 500;\r",
									"    background-color: #e5e7eb;\r",
									"    color: #374151;\r",
									"    font-family: 'Courier New', monospace;\r",
									"  }\r",
									"  .location-list {\r",
									"    margin: 0;\r",
									"    padding-left: 20px;\r",
									"    font-size: 13px;\r",
									"    color: #4b5563;\r",
									"  }\r",
									"  .location-list li {\r",
									"    margin: 4px 0;\r",
									"    word-break: break-all;\r",
									"  }\r",
									"  .diagnostics-text {\r",
									"    font-size: 13px;\r",
									"    line-height: 1.5;\r",
									"    color: #374151;\r",
									"    max-width: 500px;\r",
									"  }\r",
									"  .no-issues {\r",
									"    padding: 40px;\r",
									"    text-align: center;\r",
									"    color: #10b981;\r",
									"    font-size: 18px;\r",
									"    font-weight: 500;\r",
									"  }\r",
									"</style>\r",
									"\r",
									"<div class=\"header\">\r",
									"  <h2>OperationOutcome Validation Results</h2>\r",
									"  <p>Resource Type: {{resourceType}}</p>\r",
									"</div>\r",
									"\r",
									"<div class=\"summary\">\r",
									"  <div class=\"summary-grid\">\r",
									"    <div class=\"summary-item\">\r",
									"      <span class=\"summary-label\">Total Issues</span>\r",
									"      <span class=\"summary-value\">{{totalIssues}}</span>\r",
									"    </div>\r",
									"    <div class=\"summary-item\">\r",
									"      <span class=\"summary-label\">Errors</span>\r",
									"      <span class=\"summary-value\">{{errorCount}}</span>\r",
									"    </div>\r",
									"    <div class=\"summary-item\">\r",
									"      <span class=\"summary-label\">Warnings</span>\r",
									"      <span class=\"summary-value\">{{warningCount}}</span>\r",
									"    </div>\r",
									"    <div class=\"summary-item\">\r",
									"      <span class=\"summary-label\">Information</span>\r",
									"      <span class=\"summary-value\">{{infoCount}}</span>\r",
									"    </div>\r",
									"  </div>\r",
									"</div>\r",
									"\r",
									"{{#if hasIssues}}\r",
									"<div class=\"table-container\">\r",
									"  <table>\r",
									"    <thead>\r",
									"      <tr>\r",
									"        <th style=\"width: 10%;\">Severity</th>\r",
									"        <th style=\"width: 15%;\">Code</th>\r",
									"        <th style=\"width: 35%;\">Location</th>\r",
									"        <th style=\"width: 40%;\">Diagnostics</th>\r",
									"      </tr>\r",
									"    </thead>\r",
									"    <tbody>\r",
									"      {{#each issues}}\r",
									"      <tr>\r",
									"        <td>\r",
									"          <span class=\"severity-badge severity-{{severity}}\">{{severity}}</span>\r",
									"        </td>\r",
									"        <td>\r",
									"          <span class=\"code-badge\">{{code}}</span>\r",
									"        </td>\r",
									"        <td>\r",
									"          {{#if locations}}\r",
									"          <ul class=\"location-list\">\r",
									"            {{#each locations}}\r",
									"            <li>{{this}}</li>\r",
									"            {{/each}}\r",
									"          </ul>\r",
									"          {{else}}\r",
									"          <span style=\"color: #9ca3af; font-style: italic;\">No location specified</span>\r",
									"          {{/if}}\r",
									"        </td>\r",
									"        <td>\r",
									"          <div class=\"diagnostics-text\">{{diagnostics}}</div>\r",
									"        </td>\r",
									"      </tr>\r",
									"      {{/each}}\r",
									"    </tbody>\r",
									"  </table>\r",
									"</div>\r",
									"{{else}}\r",
									"<div class=\"table-container\">\r",
									"  <div class=\"no-issues\">âœ“ No issues found - validation successful!</div>\r",
									"</div>\r",
									"{{/if}}\r",
									"`;\r",
									"\r",
									"function createPayload() {\r",
									"    const response = pm.response.json();\r",
									"    const issues = response.issue || [];\r",
									"    \r",
									"    // Count issues by severity\r",
									"    let errorCount = 0;\r",
									"    let warningCount = 0;\r",
									"    let infoCount = 0;\r",
									"    \r",
									"    const processedIssues = issues.map(issue => {\r",
									"        const severity = issue.severity || 'unknown';\r",
									"        \r",
									"        // Count by severity\r",
									"        if (severity === 'error' || severity === 'fatal') {\r",
									"            errorCount++;\r",
									"        } else if (severity === 'warning') {\r",
									"            warningCount++;\r",
									"        } else if (severity === 'information') {\r",
									"            infoCount++;\r",
									"        }\r",
									"        \r",
									"        return {\r",
									"            severity: severity,\r",
									"            code: issue.code || 'N/A',\r",
									"            locations: issue.location || [],\r",
									"            diagnostics: issue.diagnostics || 'No diagnostic message provided'\r",
									"        };\r",
									"    });\r",
									"    \r",
									"    return {\r",
									"        resourceType: response.resourceType || 'OperationOutcome',\r",
									"        totalIssues: issues.length,\r",
									"        errorCount: errorCount,\r",
									"        warningCount: warningCount,\r",
									"        infoCount: infoCount,\r",
									"        hasIssues: issues.length > 0,\r",
									"        issues: processedIssues\r",
									"    };\r",
									"}\r",
									"\r",
									"pm.visualizer.set(template, createPayload());"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"resourceType\": \"Bundle\",\r\n  \"type\": \"transaction\",\r\n  \"entry\": [\r\n    {\r\n      \"fullUrl\": \"urn:uuid:a9bf14d9-3293-4122-833d-ddc75539a8dc\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Condition\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Condition\",\r\n        \"id\": \"example\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-condition\"\r\n          ]\r\n        },\r\n        \"clinicalStatus\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://terminology.hl7.org/CodeSystem/condition-clinical\",\r\n              \"code\": \"active\"\r\n            }\r\n          ]\r\n        },\r\n        \"verificationStatus\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://terminology.hl7.org/CodeSystem/condition-ver-status\",\r\n              \"code\": \"confirmed\"\r\n            }\r\n          ]\r\n        },\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"code\": \"271993009\",\r\n              \"display\": \"Follow-up for injury\"\r\n            }\r\n          ]\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"urn:uuid:26e3087f-1622-469f-ab78-695d4030fec7\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:f0e046d7-8b39-42a7-bcff-3592a2bed259\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Encounter\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Encounter\",\r\n        \"id\": \"RSMinimumExampleEncounter\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-encounter\"\r\n          ]\r\n        },\r\n        \"identifier\": [\r\n          {\r\n            \"system\": \"https://outpatient.com\",\r\n            \"value\": \"9001\"\r\n          }\r\n        ],\r\n        \"status\": \"finished\",\r\n        \"class\": {\r\n          \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ActCode\",\r\n          \"code\": \"AMB\",\r\n          \"display\": \"Ambulatory\"\r\n        },\r\n        \"period\": {\r\n          \"start\": \"2025-11-15T09:00:00+08:00\",\r\n          \"end\": \"2025-11-15T09:30:00+08:00\"\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"urn:uuid:26e3087f-1622-469f-ab78-695d4030fec7\"\r\n        },\r\n        \"serviceProvider\": {\r\n          \"reference\": \"urn:uuid:3c6ac645-89f4-4c27-8f3e-53f7cf953d10\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:26e3087f-1622-469f-ab78-695d4030fec7\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Patient\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Patient\",\r\n        \"id\": \"RSMinimumExamplePatient\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-patient\"\r\n          ]\r\n        },\r\n        \"active\": true,\r\n        \"name\": [\r\n          {\r\n            \"use\": \"official\",\r\n            \"family\": \"Reyes\",\r\n            \"given\": [\r\n              \"Thomas Niccolo\",\r\n              \"Filamor\"\r\n            ]\r\n          }\r\n        ],\r\n        \"telecom\": [\r\n          {\r\n            \"system\": \"phone\",\r\n            \"value\": \"+63-912-345-6789\"\r\n          }\r\n        ],\r\n        \"gender\": \"male\",\r\n        \"birthDate\": \"1990-01-01\",\r\n        \"address\": [\r\n          {\r\n            \"use\": \"home\",\r\n            \"line\": [\r\n              \"123 Sampaloc Street\"\r\n            ],\r\n            \"city\": \"Manila\",\r\n            \"postalCode\": \"1008\",\r\n            \"country\": \"PH\"\r\n          }\r\n        ],\r\n        \"extension\": [\r\n          {\r\n            \"url\": \"urn://example.com/ph-core/fhir/StructureDefinition/indigenous-people\",\r\n            \"valueBoolean\": false\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:ff8c8469-0fbc-4b72-98d1-0c59b3bed360\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Observation\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Observation\",\r\n        \"id\": \"RSMinimumExampleObsTemp\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-body-temperature\"\r\n          ]\r\n        },\r\n        \"status\": \"final\",\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"386725007\",\r\n              \"display\": \"Body temperature (observable entity)\"\r\n            }\r\n          ]\r\n        },\r\n        \"effectiveDateTime\": \"2025-11-15T09:05:00+08:00\",\r\n        \"valueQuantity\": {\r\n          \"value\": 37,\r\n          \"system\": \"http://unitsofmeasure.org\",\r\n          \"code\": \"Cel\"\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"urn:uuid:26e3087f-1622-469f-ab78-695d4030fec7\"\r\n        },\r\n        \"encounter\": {\r\n          \"reference\": \"urn:uuid:f0e046d7-8b39-42a7-bcff-3592a2bed259\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:3c6ac645-89f4-4c27-8f3e-53f7cf953d10\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Organization\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Organization\",\r\n        \"id\": \"RSMinimumExampleOrganization\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-organization\"\r\n          ]\r\n        },\r\n        \"name\": \"Ermita Health Center\",\r\n        \"telecom\": [\r\n          {\r\n            \"system\": \"phone\",\r\n            \"value\": \"+63-2-123-4567\"\r\n          }\r\n        ],\r\n        \"address\": [\r\n          {\r\n            \"line\": [\r\n              \"123 M.H. Del Pilar Street\"\r\n            ],\r\n            \"city\": \"Manila\",\r\n            \"state\": \"NCR\",\r\n            \"postalCode\": \"1000\",\r\n            \"country\": \"PH\"\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{tx}}/Bundle/$validate",
							"host": [
								"{{tx}}"
							],
							"path": [
								"Bundle",
								"$validate"
							]
						}
					},
					"response": []
				},
				{
					"name": "[1] Follow up  to SHR - Send",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Visualization Script",
									"// Visualization Script",
									"const template = `",
									"<style>",
									"  body {",
									"    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;",
									"    padding: 20px;",
									"    background-color: #f5f5f5;",
									"  }",
									"  .header {",
									"    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);",
									"    color: white;",
									"    padding: 20px;",
									"    border-radius: 8px 8px 0 0;",
									"    margin-bottom: 0;",
									"  }",
									"  .header h2 {",
									"    margin: 0 0 10px 0;",
									"    font-size: 24px;",
									"  }",
									"  .header p {",
									"    margin: 5px 0;",
									"    opacity: 0.9;",
									"    font-size: 14px;",
									"  }",
									"  .summary {",
									"    background: white;",
									"    padding: 15px 20px;",
									"    border-left: 4px solid #10b981;",
									"    margin-bottom: 20px;",
									"    box-shadow: 0 1px 3px rgba(0,0,0,0.1);",
									"  }",
									"  .summary-grid {",
									"    display: grid;",
									"    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));",
									"    gap: 15px;",
									"    margin-top: 10px;",
									"  }",
									"  .summary-item {",
									"    display: flex;",
									"    flex-direction: column;",
									"  }",
									"  .summary-label {",
									"    font-size: 12px;",
									"    color: #6b7280;",
									"    text-transform: uppercase;",
									"    letter-spacing: 0.5px;",
									"    margin-bottom: 5px;",
									"  }",
									"  .summary-value {",
									"    font-size: 20px;",
									"    font-weight: 600;",
									"    color: #1f2937;",
									"  }",
									"  table {",
									"    width: 100%;",
									"    border-collapse: collapse;",
									"    background: white;",
									"    box-shadow: 0 1px 3px rgba(0,0,0,0.1);",
									"    border-radius: 8px;",
									"    overflow: hidden;",
									"  }",
									"  thead {",
									"    background: #f9fafb;",
									"    border-bottom: 2px solid #e5e7eb;",
									"  }",
									"  th {",
									"    padding: 12px 16px;",
									"    text-align: left;",
									"    font-weight: 600;",
									"    color: #374151;",
									"    font-size: 13px;",
									"    text-transform: uppercase;",
									"    letter-spacing: 0.5px;",
									"  }",
									"  td {",
									"    padding: 12px 16px;",
									"    border-bottom: 1px solid #f3f4f6;",
									"    color: #1f2937;",
									"  }",
									"  tr:last-child td {",
									"    border-bottom: none;",
									"  }",
									"  tbody tr:hover {",
									"    background-color: #f9fafb;",
									"  }",
									"  .status-badge {",
									"    display: inline-block;",
									"    padding: 4px 12px;",
									"    border-radius: 12px;",
									"    font-size: 12px;",
									"    font-weight: 600;",
									"    background-color: #d1fae5;",
									"    color: #065f46;",
									"  }",
									"  .resource-type {",
									"    font-weight: 600;",
									"    color: #6366f1;",
									"  }",
									"  .resource-id {",
									"    font-family: 'Courier New', monospace;",
									"    background: #f3f4f6;",
									"    padding: 2px 6px;",
									"    border-radius: 4px;",
									"    font-size: 13px;",
									"  }",
									"  .timestamp {",
									"    color: #6b7280;",
									"    font-size: 13px;",
									"  }",
									"</style>",
									"",
									"<div class=\"header\">",
									"  <h2>FHIR Transaction Response</h2>",
									"  <p><strong>Bundle ID:</strong> {{bundleId}}</p>",
									"  <p><strong>Type:</strong> {{bundleType}}</p>",
									"</div>",
									"",
									"<div class=\"summary\">",
									"  <div class=\"summary-grid\">",
									"    <div class=\"summary-item\">",
									"      <span class=\"summary-label\">Total Resources</span>",
									"      <span class=\"summary-value\">{{totalResources}}</span>",
									"    </div>",
									"    <div class=\"summary-item\">",
									"      <span class=\"summary-label\">Success Rate</span>",
									"      <span class=\"summary-value\">100%</span>",
									"    </div>",
									"    <div class=\"summary-item\">",
									"      <span class=\"summary-label\">Resource Types</span>",
									"      <span class=\"summary-value\">{{resourceTypes}}</span>",
									"    </div>",
									"  </div>",
									"</div>",
									"",
									"<table>",
									"  <thead>",
									"    <tr>",
									"      <th>#</th>",
									"      <th>Resource Type</th>",
									"      <th>Resource ID</th>",
									"      <th>Status</th>",
									"      <th>Version</th>",
									"      <th>Last Modified</th>",
									"    </tr>",
									"  </thead>",
									"  <tbody>",
									"    {{#each entries}}",
									"    <tr>",
									"      <td>{{index}}</td>",
									"      <td><span class=\"resource-type\">{{resourceType}}</span></td>",
									"      <td><span class=\"resource-id\">{{resourceId}}</span></td>",
									"      <td><span class=\"status-badge\">{{status}}</span></td>",
									"      <td>{{etag}}</td>",
									"      <td><span class=\"timestamp\">{{lastModified}}</span></td>",
									"    </tr>",
									"    {{/each}}",
									"  </tbody>",
									"</table>",
									"`;",
									"",
									"function createPayload() {",
									"  const responseData = pm.response.json();",
									"  ",
									"  // Extract entries and parse location to get resource type and ID",
									"  const entries = responseData.entry.map((entry, idx) => {",
									"    const location = entry.response.location;",
									"    const locationParts = location.split('/');",
									"    const resourceType = locationParts[0];",
									"    const resourceId = locationParts[1];",
									"    ",
									"    return {",
									"      index: idx + 1,",
									"      resourceType: resourceType,",
									"      resourceId: resourceId,",
									"      status: entry.response.status,",
									"      etag: entry.response.etag,",
									"      lastModified: new Date(entry.response.lastModified).toLocaleString()",
									"    };",
									"  });",
									"  ",
									"  // Count unique resource types",
									"  const resourceTypesSet = new Set(entries.map(e => e.resourceType));",
									"  ",
									"  return {",
									"    bundleId: responseData.id,",
									"    bundleType: responseData.type,",
									"    totalResources: entries.length,",
									"    resourceTypes: resourceTypesSet.size,",
									"    entries: entries",
									"  };",
									"}",
									"",
									"pm.visualizer.set(template, createPayload());",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"resourceType\": \"Bundle\",\r\n  \"type\": \"transaction\",\r\n  \"entry\": [\r\n    {\r\n      \"fullUrl\": \"urn:uuid:a9bf14d9-3293-4122-833d-ddc75539a8dc\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Condition\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Condition\",\r\n        \"id\": \"example\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-condition\"\r\n          ]\r\n        },\r\n        \"clinicalStatus\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://terminology.hl7.org/CodeSystem/condition-clinical\",\r\n              \"code\": \"active\"\r\n            }\r\n          ]\r\n        },\r\n        \"verificationStatus\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://terminology.hl7.org/CodeSystem/condition-ver-status\",\r\n              \"code\": \"confirmed\"\r\n            }\r\n          ]\r\n        },\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"code\": \"271993009\",\r\n              \"display\": \"Follow-up for injury\"\r\n            }\r\n          ]\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"urn:uuid:26e3087f-1622-469f-ab78-695d4030fec7\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:f0e046d7-8b39-42a7-bcff-3592a2bed259\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Encounter\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Encounter\",\r\n        \"id\": \"RSMinimumExampleEncounter\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-encounter\"\r\n          ]\r\n        },\r\n        \"identifier\": [\r\n          {\r\n            \"system\": \"https://outpatient.com\",\r\n            \"value\": \"9001\"\r\n          }\r\n        ],\r\n        \"status\": \"finished\",\r\n        \"class\": {\r\n          \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ActCode\",\r\n          \"code\": \"AMB\",\r\n          \"display\": \"Ambulatory\"\r\n        },\r\n        \"period\": {\r\n          \"start\": \"2025-11-15T09:00:00+08:00\",\r\n          \"end\": \"2025-11-15T09:30:00+08:00\"\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"urn:uuid:26e3087f-1622-469f-ab78-695d4030fec7\"\r\n        },\r\n        \"serviceProvider\": {\r\n          \"reference\": \"urn:uuid:3c6ac645-89f4-4c27-8f3e-53f7cf953d10\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:26e3087f-1622-469f-ab78-695d4030fec7\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Patient\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Patient\",\r\n        \"id\": \"RSMinimumExamplePatient\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-patient\"\r\n          ]\r\n        },\r\n        \"active\": true,\r\n        \"name\": [\r\n          {\r\n            \"use\": \"official\",\r\n            \"family\": \"Reyes\",\r\n            \"given\": [\r\n              \"Thomas Niccolo\",\r\n              \"Filamor\"\r\n            ]\r\n          }\r\n        ],\r\n        \"telecom\": [\r\n          {\r\n            \"system\": \"phone\",\r\n            \"value\": \"+63-912-345-6789\"\r\n          }\r\n        ],\r\n        \"gender\": \"male\",\r\n        \"birthDate\": \"1990-01-01\",\r\n        \"address\": [\r\n          {\r\n            \"use\": \"home\",\r\n            \"line\": [\r\n              \"123 Sampaloc Street\"\r\n            ],\r\n            \"city\": \"Manila\",\r\n            \"postalCode\": \"1008\",\r\n            \"country\": \"PH\"\r\n          }\r\n        ],\r\n        \"extension\": [\r\n          {\r\n            \"url\": \"urn://example.com/ph-core/fhir/StructureDefinition/indigenous-people\",\r\n            \"valueBoolean\": false\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:ff8c8469-0fbc-4b72-98d1-0c59b3bed360\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Observation\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Observation\",\r\n        \"id\": \"RSMinimumExampleObsTemp\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-observation-body-temperature\"\r\n          ]\r\n        },\r\n        \"status\": \"final\",\r\n        \"code\": {\r\n          \"coding\": [\r\n            {\r\n              \"system\": \"http://snomed.info/sct\",\r\n              \"version\": \"http://snomed.info/sct/900000000000207008/version/20241001\",\r\n              \"code\": \"386725007\",\r\n              \"display\": \"Body temperature (observable entity)\"\r\n            }\r\n          ]\r\n        },\r\n        \"effectiveDateTime\": \"2025-11-15T09:05:00+08:00\",\r\n        \"valueQuantity\": {\r\n          \"value\": 37,\r\n          \"system\": \"http://unitsofmeasure.org\",\r\n          \"code\": \"Cel\"\r\n        },\r\n        \"subject\": {\r\n          \"reference\": \"urn:uuid:26e3087f-1622-469f-ab78-695d4030fec7\"\r\n        },\r\n        \"encounter\": {\r\n          \"reference\": \"urn:uuid:f0e046d7-8b39-42a7-bcff-3592a2bed259\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"fullUrl\": \"urn:uuid:3c6ac645-89f4-4c27-8f3e-53f7cf953d10\",\r\n      \"request\": {\r\n        \"method\": \"POST\",\r\n        \"url\": \"Organization\"\r\n      },\r\n      \"resource\": {\r\n        \"resourceType\": \"Organization\",\r\n        \"id\": \"RSMinimumExampleOrganization\",\r\n        \"meta\": {\r\n          \"profile\": [\r\n            \"https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/StructureDefinition/rs-organization\"\r\n          ]\r\n        },\r\n        \"name\": \"Ermita Health Center\",\r\n        \"telecom\": [\r\n          {\r\n            \"system\": \"phone\",\r\n            \"value\": \"+63-2-123-4567\"\r\n          }\r\n        ],\r\n        \"address\": [\r\n          {\r\n            \"line\": [\r\n              \"123 M.H. Del Pilar Street\"\r\n            ],\r\n            \"city\": \"Manila\",\r\n            \"state\": \"NCR\",\r\n            \"postalCode\": \"1000\",\r\n            \"country\": \"PH\"\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{fhir}}",
							"host": [
								"{{fhir}}"
							]
						}
					},
					"response": []
				}
			],
			"description": "Bundle includes\n\n1. Name of Reporting Health Facility\n    \n2. Patient - Name - Family\n    \n3. Patient - Name - First Name \\[0\\]\n    \n4. Patient - Name - Middle Name \\[1\\]\n    \n5. Patient - gender\n    \n6. Patient - Age - by birthDate\n    \n7. Patient - Address\n    \n8. Encounter - Identifier - Health Center ID\n    \n    1. subject - The Patient URL/ID\n        \n    2. serviceProvider - Organization ID/URL\n        \n9. Organization - Name - string\n    \n10. Obs - Temperature code \\[386725007\\] - valueQuantity 37\n    \n11. Condition - RS Condition - code to be set \\[\\]\n    \n\nThere are other profiles that can be used, this Resource is not exhuastive\n\n[References - DRAFT PH Road Safety Implementation Guide](https://build.fhir.org/ig/UPM-NTHC/PH-RoadSafetyIG/references.html)\n\nOr use the Road Safety IG Bundle Builder Tool before sending to the SHR\n\n[https://roadsafety-lab.vercel.app/](https://roadsafety-lab.vercel.app/)"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "fhir",
			"value": ""
		}
	]
}